<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>buffer 缓冲区 | Node.js API 文档</title>
  
  
  <style>@media(max-width:518px){.with-37-chars>.js-flavor-selector{float:none;margin:0 0 1em auto;}}@media(max-width:678px){.with-57-chars>.js-flavor-selector{float:none;margin:0 0 1em auto;}}@media(max-width:606px){.with-48-chars>.js-flavor-selector{float:none;margin:0 0 1em auto;}}</style>

    <link href="../api/static/inject.css" rel="stylesheet"><link rel="icon" sizes="32x32" type="image/png" href="../api/static/favicon.png"></head>

<body class="alt apidoc api_page_buffer" id="page_api">
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        

      </div>
      <!-- <ul>
          <li><a href="./" class="nav-documentation">v16.16.0</a></li>
        </ul> -->
      <!-- <div id="biz_nav" class="biz_wrap" data-biz="api_nav"><a target="_blank" class="biz_link"><img
            class="biz_img"></a>
      </div> -->
      <div class="line"></div>
      <ul>
<li><a href="documentation.html" class="nav-documentation" rel="nofollow">关于本文档</a></li>
<li><a href="synopsis.html" class="nav-synopsis" rel="nofollow">用法与示例</a></li>
</ul>
<hr class="line">
<ul>
<li><a href="assert.html" class="nav-assert" rel="nofollow">assert<span class="api_nav_cn_name">断言</span></a></li>
<li><a href="async_hooks.html" class="nav-async_hooks" rel="nofollow">async_hooks<span class="api_nav_cn_name">异步钩子</span></a></li>
<li><a href="async_context.html" class="nav-async_context" rel="nofollow"><span style="font-size:11px;">async_hooks/context</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:1px;">异步上下文</span></a></li>
<li><a href="" class="nav-buffer active" rel="nofollow">buffer<span class="api_nav_cn_name">缓冲区</span></a></li>
<li><a href="addons.html" class="nav-addons" rel="nofollow">C++插件</a></li>
<li><a href="n-api.html" class="nav-n-api" rel="nofollow"><span style="font-size:14px;">C/C++插件(使用Node-API)</span></a></li>
<li><a href="embedding.html" class="nav-embedding" rel="nofollow">C++嵌入器</a></li>
<li><a href="child_process.html" class="nav-child_process" rel="nofollow">child_process<span class="api_nav_cn_name">子进程</span></a></li>
<li><a href="cluster.html" class="nav-cluster" rel="nofollow">cluster<span class="api_nav_cn_name">集群</span></a></li>
<li><a href="cli.html" class="nav-cli" rel="nofollow">CLI<span class="api_nav_cn_name">命令行</span></a></li>
<li><a href="console.html" class="nav-console" rel="nofollow">console<span class="api_nav_cn_name">控制台</span></a></li>
<li><a href="corepack.html" class="nav-corepack" rel="nofollow">Corepack<span class="api_nav_cn_name">核心包</span></a></li>
<li><a href="crypto.html" class="nav-crypto" rel="nofollow">crypto<span class="api_nav_cn_name">加密</span></a></li>
<li><a href="webcrypto.html" class="nav-webcrypto" rel="nofollow"><span style="font-size:14px;">crypto/webcrypto</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:2px;">网络加密</span></a></li>
<li><a href="debugger.html" class="nav-debugger" rel="nofollow">debugger<span class="api_nav_cn_name">调试器</span></a></li>
<li><a href="deprecations.html" class="nav-deprecations" rel="nofollow">deprecation<span class="api_nav_cn_name">弃用</span></a></li>
<li><a href="dgram.html" class="nav-dgram" rel="nofollow">dgram<span class="api_nav_cn_name">数据报</span></a></li>
<li><a href="diagnostics_channel.html" class="nav-diagnostics_channel" rel="nofollow"><span style="font-size:14px;">diagnostics_channel</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:2px;">诊断通道</span></a></li>
<li><a href="dns.html" class="nav-dns" rel="nofollow">dns<span class="api_nav_cn_name">域名服务器</span></a></li>
<li><a href="domain.html" class="nav-domain" rel="nofollow">domain<span class="api_nav_cn_name">域</span></a></li>
<li><a href="errors.html" class="nav-errors" rel="nofollow">Error<span class="api_nav_cn_name">错误</span></a></li>
<li><a href="events.html" class="nav-events" rel="nofollow">events<span class="api_nav_cn_name">事件触发器</span></a></li>
<li><a href="fs.html" class="nav-fs" rel="nofollow">fs<span class="api_nav_cn_name">文件系统</span></a></li>
<li><a href="globals.html" class="nav-globals" rel="nofollow">global<span class="api_nav_cn_name">全局变量</span></a></li>
<li><a href="http.html" class="nav-http" rel="nofollow">http<span class="api_nav_cn_name">超文本传输协议</span></a></li>
<li><a href="http2.html" class="nav-http2" rel="nofollow">http2<span class="api_nav_cn_name">超文本传输协议2.0</span></a></li>
<li><a href="https.html" class="nav-https" rel="nofollow">https<span class="api_nav_cn_name">安全超文本传输协议</span></a></li>
<li><a href="inspector.html" class="nav-inspector" rel="nofollow">inspector<span class="api_nav_cn_name">检查器</span></a></li>
<li><a href="intl.html" class="nav-intl" rel="nofollow">Intl<span class="api_nav_cn_name">国际化</span></a></li>
<li><a href="module.html" class="nav-module" rel="nofollow">module<span class="api_nav_cn_name">模块</span></a></li>
<li><a href="modules.html" class="nav-modules" rel="nofollow"><span style="font-size:14px;">module/cjs</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:2px;">CommonJS模块</span></a></li>
<li><a href="esm.html" class="nav-esm" rel="nofollow"><span style="font-size:14px;">module/esm</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:2px;">ECMAScript模块</span></a></li>
<li><a href="packages.html" class="nav-packages" rel="nofollow"><span style="font-size:14px;">module/package</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:2px;">包模块</span></a></li>
<li><a href="net.html" class="nav-net" rel="nofollow">net<span class="api_nav_cn_name">网络</span></a></li>
<li><a href="os.html" class="nav-os" rel="nofollow">os<span class="api_nav_cn_name">操作系统</span></a></li>
<li><a href="path.html" class="nav-path" rel="nofollow">path<span class="api_nav_cn_name">路径</span></a></li>
<li><a href="perf_hooks.html" class="nav-perf_hooks" rel="nofollow">perf_hooks<span class="api_nav_cn_name">性能钩子</span></a></li>
<li><a href="policy.html" class="nav-policy" rel="nofollow">policy<span class="api_nav_cn_name">安全策略</span></a></li>
<li><a href="process.html" class="nav-process" rel="nofollow">process<span class="api_nav_cn_name">进程</span></a></li>
<li><a href="punycode.html" class="nav-punycode" rel="nofollow">punycode<span class="api_nav_cn_name">域名代码</span></a></li>
<li><a href="querystring.html" class="nav-querystring" rel="nofollow">querystring<span class="api_nav_cn_name">查询字符串</span></a></li>
<li><a href="readline.html" class="nav-readline" rel="nofollow">readline<span class="api_nav_cn_name">逐行读取</span></a></li>
<li><a href="repl.html" class="nav-repl" rel="nofollow">repl<span class="api_nav_cn_name">交互式解释器</span></a></li>
<li><a href="report.html" class="nav-report" rel="nofollow">report<span class="api_nav_cn_name">诊断报告</span></a></li>
<li><a href="stream.html" class="nav-stream" rel="nofollow">stream<span class="api_nav_cn_name">流</span></a></li>
<li><a href="webstreams.html" class="nav-webstreams" rel="nofollow">stream/web<span class="api_nav_cn_name">网络流</span></a></li>
<li><a href="string_decoder.html" class="nav-string_decoder" rel="nofollow"><span style="font-size:15px;">string_decoder</span><span class="api_nav_cn_name" style="font-size:12px;padding-left:6px;">字符串解码器</span></a></li>
<li><a href="timers.html" class="nav-timers" rel="nofollow">timers<span class="api_nav_cn_name">定时器</span></a></li>
<li><a href="tls.html" class="nav-tls" rel="nofollow">tls<span class="api_nav_cn_name">安全传输层</span></a></li>
<li><a href="tracing.html" class="nav-tracing" rel="nofollow">trace_events<span class="api_nav_cn_name">跟踪事件</span></a></li>
<li><a href="tty.html" class="nav-tty" rel="nofollow">tty<span class="api_nav_cn_name">终端</span></a></li>
<li><a href="url.html" class="nav-url" rel="nofollow">url<span class="api_nav_cn_name">网址</span></a></li>
<li><a href="util.html" class="nav-util" rel="nofollow">util<span class="api_nav_cn_name">实用工具</span></a></li>
<li><a href="v8.html" class="nav-v8" rel="nofollow">v8<span class="api_nav_cn_name">引擎</span></a></li>
<li><a href="vm.html" class="nav-vm" rel="nofollow">vm<span class="api_nav_cn_name">虚拟机</span></a></li>
<li><a href="wasi.html" class="nav-wasi" rel="nofollow">wasi<span class="api_nav_cn_name">网络汇编系统接口</span></a></li>
<li><a href="worker_threads.html" class="nav-worker_threads" rel="nofollow">worker_threads<span class="api_nav_cn_name">工作线程</span></a></li>
<li><a href="zlib.html" class="nav-zlib" rel="nofollow">zlib<span class="api_nav_cn_name">压缩</span></a></li>
</ul>

    </div>

    <div id="column1" data-id="buffer" class="interior">
      <header class="header">
        <div class="header-container">
          <h1>Node.js v16.16.0 文档</h1>
          <button class="theme-toggle-btn" id="theme-toggle-btn" title="Toggle dark mode/light mode" aria-label="Toggle dark mode/light mode" hidden="">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" height="24" width="24">
              <path fill="none" d="M0 0h24v24H0z"></path>
              <path d="M11.1 12.08c-2.33-4.51-.5-8.48.53-10.07C6.27 2.2 1.98 6.59 1.98 12c0 .14.02.28.02.42.62-.27 1.29-.42 2-.42 1.66 0 3.18.83 4.1 2.15A4.01 4.01 0 0111 18c0 1.52-.87 2.83-2.12 3.51.98.32 2.03.5 3.11.5 3.5 0 6.58-1.8 8.37-4.52-2.36.23-6.98-.97-9.26-5.41z"></path>
              <path d="M7 16h-.18C6.4 14.84 5.3 14 4 14c-1.66 0-3 1.34-3 3s1.34 3 3 3h3c1.1 0 2-.9 2-2s-.9-2-2-2z"></path>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" height="24" width="24">
              <path d="M0 0h24v24H0z" fill="none"></path>
              <path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path>
            </svg>
          </button>
        </div>
        <div id="gtoc">
          <ul>
            <li class="pinned-header">Node.js 16.16.0</li>
            <!-- <li>
              <a href="./">返回文档首页</a>
            </li> -->
            
    <li class="picker-header" id="header_toc">
      <a href="#">
        <span class="collapsed-arrow">►</span><span class="expanded-arrow">▼</span>
        目录
      </a>

      <div class="picker"><div class="toc"><ul>
<li><span class="stability_2"><a href="#buffer">buffer 缓冲区</a></span>
<ul>
<li><a href="#buffers-and-character-encodings">缓冲区与字符编码</a></li>
<li><a href="#buffers-and-typedarrays">缓冲区与 TypedArray</a></li>
<li><a href="#buffers-and-iteration">缓冲区与迭代器</a></li>
<li><span class="stability_1"><a href="#class-blob"><code>Blob</code> 类</a></span>
<ul>
<li><a href="#new-bufferblobsources-options"><code>new buffer.Blob([sources[, options]])</code></a></li>
<li><a href="#blobarraybuffer"><code>blob.arrayBuffer()</code></a></li>
<li><a href="#blobsize"><code>blob.size</code></a></li>
<li><a href="#blobslicestart-end-type"><code>blob.slice([start, [end, [type]]])</code></a></li>
<li><a href="#blobstream"><code>blob.stream()</code></a></li>
<li><a href="#blobtext"><code>blob.text()</code></a></li>
<li><a href="#blobtype"><code>blob.type</code></a></li>
<li><a href="#blob-objects-and-messagechannel">Blob 对象和 MessageChannel</a></li>
</ul>
</li>
<li><a href="#class-buffer"><code>Buffer</code> 类</a>
<ul>
<li><a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc(size[, fill[, encoding]])</code></a></li>
<li><a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe(size)</code></a></li>
<li><a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow(size)</code></a></li>
<li><a href="#static-method-bufferbytelengthstring-encoding"><code>Buffer.byteLength(string[, encoding])</code></a></li>
<li><a href="#static-method-buffercomparebuf1-buf2"><code>Buffer.compare(buf1, buf2)</code></a></li>
<li><a href="#static-method-bufferconcatlist-totallength"><code>Buffer.concat(list[, totalLength])</code></a></li>
<li><a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a></li>
<li><a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a></li>
<li><a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a></li>
<li><a href="#static-method-bufferfromobject-offsetorencoding-length"><code>Buffer.from(object[, offsetOrEncoding[, length]])</code></a></li>
<li><a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a></li>
<li><a href="#static-method-bufferisbufferobj"><code>Buffer.isBuffer(obj)</code></a></li>
<li><a href="#static-method-bufferisencodingencoding"><code>Buffer.isEncoding(encoding)</code></a></li>
<li><a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a></li>
<li><a href="#bufindex"><code>buf[index]</code></a></li>
<li><a href="#bufbuffer"><code>buf.buffer</code></a></li>
<li><a href="#bufbyteoffset"><code>buf.byteOffset</code></a></li>
<li><a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend"><code>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</code></a></li>
<li><a href="#bufcopytarget-targetstart-sourcestart-sourceend"><code>buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])</code></a></li>
<li><a href="#bufentries"><code>buf.entries()</code></a></li>
<li><a href="#bufequalsotherbuffer"><code>buf.equals(otherBuffer)</code></a></li>
<li><a href="#buffillvalue-offset-end-encoding"><code>buf.fill(value[, offset[, end]][, encoding])</code></a></li>
<li><a href="#bufincludesvalue-byteoffset-encoding"><code>buf.includes(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#bufindexofvalue-byteoffset-encoding"><code>buf.indexOf(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#bufkeys"><code>buf.keys()</code></a></li>
<li><a href="#buflastindexofvalue-byteoffset-encoding"><code>buf.lastIndexOf(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#buflength"><code>buf.length</code></a></li>
<li><span class="stability_0"><a href="#bufparent"><code>buf.parent</code></a></span></li>
<li><a href="#bufreadbigint64beoffset"><code>buf.readBigInt64BE([offset])</code></a></li>
<li><a href="#bufreadbigint64leoffset"><code>buf.readBigInt64LE([offset])</code></a></li>
<li><a href="#bufreadbiguint64beoffset"><code>buf.readBigUInt64BE([offset])</code></a></li>
<li><a href="#bufreadbiguint64leoffset"><code>buf.readBigUInt64LE([offset])</code></a></li>
<li><a href="#bufreaddoublebeoffset"><code>buf.readDoubleBE([offset])</code></a></li>
<li><a href="#bufreaddoubleleoffset"><code>buf.readDoubleLE([offset])</code></a></li>
<li><a href="#bufreadfloatbeoffset"><code>buf.readFloatBE([offset])</code></a></li>
<li><a href="#bufreadfloatleoffset"><code>buf.readFloatLE([offset])</code></a></li>
<li><a href="#bufreadint8offset"><code>buf.readInt8([offset])</code></a></li>
<li><a href="#bufreadint16beoffset"><code>buf.readInt16BE([offset])</code></a></li>
<li><a href="#bufreadint16leoffset"><code>buf.readInt16LE([offset])</code></a></li>
<li><a href="#bufreadint32beoffset"><code>buf.readInt32BE([offset])</code></a></li>
<li><a href="#bufreadint32leoffset"><code>buf.readInt32LE([offset])</code></a></li>
<li><a href="#bufreadintbeoffset-bytelength"><code>buf.readIntBE(offset, byteLength)</code></a></li>
<li><a href="#bufreadintleoffset-bytelength"><code>buf.readIntLE(offset, byteLength)</code></a></li>
<li><a href="#bufreaduint8offset"><code>buf.readUInt8([offset])</code></a></li>
<li><a href="#bufreaduint16beoffset"><code>buf.readUInt16BE([offset])</code></a></li>
<li><a href="#bufreaduint16leoffset"><code>buf.readUInt16LE([offset])</code></a></li>
<li><a href="#bufreaduint32beoffset"><code>buf.readUInt32BE([offset])</code></a></li>
<li><a href="#bufreaduint32leoffset"><code>buf.readUInt32LE([offset])</code></a></li>
<li><a href="#bufreaduintbeoffset-bytelength"><code>buf.readUIntBE(offset, byteLength)</code></a></li>
<li><a href="#bufreaduintleoffset-bytelength"><code>buf.readUIntLE(offset, byteLength)</code></a></li>
<li><a href="#bufsubarraystart-end"><code>buf.subarray([start[, end]])</code></a></li>
<li><span class="stability_0"><a href="#bufslicestart-end"><code>buf.slice([start[, end]])</code></a></span></li>
<li><a href="#bufswap16"><code>buf.swap16()</code></a></li>
<li><a href="#bufswap32"><code>buf.swap32()</code></a></li>
<li><a href="#bufswap64"><code>buf.swap64()</code></a></li>
<li><a href="#buftojson"><code>buf.toJSON()</code></a></li>
<li><a href="#buftostringencoding-start-end"><code>buf.toString([encoding[, start[, end]]])</code></a></li>
<li><a href="#bufvalues"><code>buf.values()</code></a></li>
<li><a href="#bufwritestring-offset-length-encoding"><code>buf.write(string[, offset[, length]][, encoding])</code></a></li>
<li><a href="#bufwritebigint64bevalue-offset"><code>buf.writeBigInt64BE(value[, offset])</code></a></li>
<li><a href="#bufwritebigint64levalue-offset"><code>buf.writeBigInt64LE(value[, offset])</code></a></li>
<li><a href="#bufwritebiguint64bevalue-offset"><code>buf.writeBigUInt64BE(value[, offset])</code></a></li>
<li><a href="#bufwritebiguint64levalue-offset"><code>buf.writeBigUInt64LE(value[, offset])</code></a></li>
<li><a href="#bufwritedoublebevalue-offset"><code>buf.writeDoubleBE(value[, offset])</code></a></li>
<li><a href="#bufwritedoublelevalue-offset"><code>buf.writeDoubleLE(value[, offset])</code></a></li>
<li><a href="#bufwritefloatbevalue-offset"><code>buf.writeFloatBE(value[, offset])</code></a></li>
<li><a href="#bufwritefloatlevalue-offset"><code>buf.writeFloatLE(value[, offset])</code></a></li>
<li><a href="#bufwriteint8value-offset"><code>buf.writeInt8(value[, offset])</code></a></li>
<li><a href="#bufwriteint16bevalue-offset"><code>buf.writeInt16BE(value[, offset])</code></a></li>
<li><a href="#bufwriteint16levalue-offset"><code>buf.writeInt16LE(value[, offset])</code></a></li>
<li><a href="#bufwriteint32bevalue-offset"><code>buf.writeInt32BE(value[, offset])</code></a></li>
<li><a href="#bufwriteint32levalue-offset"><code>buf.writeInt32LE(value[, offset])</code></a></li>
<li><a href="#bufwriteintbevalue-offset-bytelength"><code>buf.writeIntBE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteintlevalue-offset-bytelength"><code>buf.writeIntLE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteuint8value-offset"><code>buf.writeUInt8(value[, offset])</code></a></li>
<li><a href="#bufwriteuint16bevalue-offset"><code>buf.writeUInt16BE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint16levalue-offset"><code>buf.writeUInt16LE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint32bevalue-offset"><code>buf.writeUInt32BE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint32levalue-offset"><code>buf.writeUInt32LE(value[, offset])</code></a></li>
<li><a href="#bufwriteuintbevalue-offset-bytelength"><code>buf.writeUIntBE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteuintlevalue-offset-bytelength"><code>buf.writeUIntLE(value, offset, byteLength)</code></a></li>
<li><span class="stability_0"><a href="#new-bufferarray"><code>new Buffer(array)</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferarraybuffer-byteoffset-length"><code>new Buffer(arrayBuffer[, byteOffset[, length]])</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferbuffer"><code>new Buffer(buffer)</code></a></span></li>
<li><span class="stability_0"><a href="#new-buffersize"><code>new Buffer(size)</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferstring-encoding"><code>new Buffer(string[, encoding])</code></a></span></li>
</ul>
</li>
<li><a href="#buffer-module-apis">缓冲区模块 API</a>
<ul>
<li><span class="stability_3"><a href="#bufferatobdata"><code>buffer.atob(data)</code></a></span></li>
<li><span class="stability_3"><a href="#bufferbtoadata"><code>buffer.btoa(data)</code></a></span></li>
<li><a href="#bufferinspect_max_bytes"><code>buffer.INSPECT_MAX_BYTES</code></a></li>
<li><a href="#bufferkmaxlength"><code>buffer.kMaxLength</code></a></li>
<li><a href="#bufferkstringmaxlength"><code>buffer.kStringMaxLength</code></a></li>
<li><span class="stability_1"><a href="#bufferresolveobjecturlid"><code>buffer.resolveObjectURL(id)</code></a></span></li>
<li><a href="#buffertranscodesource-fromenc-toenc"><code>buffer.transcode(source, fromEnc, toEnc)</code></a></li>
<li><span class="stability_0"><a href="#class-slowbuffer"><code>SlowBuffer</code> 类</a></span>
<ul>
<li><span class="stability_0"><a href="#new-slowbuffersize"><code>new SlowBuffer(size)</code></a></span></li>
</ul>
</li>
<li><a href="#buffer-constants">缓冲区常量</a>
<ul>
<li><a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a></li>
<li><a href="#bufferconstantsmax_string_length"><code>buffer.constants.MAX_STRING_LENGTH</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bufferfrom-bufferalloc-and-bufferallocunsafe">Buffer.from()、Buffer.alloc() 与 Buffer.allocUnsafe()</a>
<ul>
<li><a href="#the---zero-fill-buffers-command-line-option">--zero-fill-buffers 命令行选项</a></li>
<li><a href="#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe">Buffer.allocUnsafe() 与 Buffer.allocUnsafeSlow() 不安全的原因</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></div>
    </li>
  
            
    <li class="picker-header">
      <a href="#">
        <span class="collapsed-arrow">►</span><span class="expanded-arrow">▼</span>
        索引
      </a>

      <div class="picker"><ul>
<li><a href="documentation.html" class="nav-documentation">关于本文档</a></li>
<li><a href="synopsis.html" class="nav-synopsis">用法与示例</a></li>

      <li>
        <a href="index.html">首页</a>
      </li>
    </ul>
  
<hr class="line">
<ul>
<li><a href="assert.html" class="nav-assert">assert 断言</a></li>
<li><a href="async_hooks.html" class="nav-async_hooks">async_hooks 异步钩子</a></li>
<li><a href="async_context.html" class="nav-async_context">async_hooks/context 异步上下文</a></li>
<li><a href="" class="nav-buffer active">buffer 缓冲区</a></li>
<li><a href="addons.html" class="nav-addons">C++插件</a></li>
<li><a href="n-api.html" class="nav-n-api">C/C++插件(使用Node-API)</a></li>
<li><a href="embedding.html" class="nav-embedding">C++嵌入器</a></li>
<li><a href="child_process.html" class="nav-child_process">child_process 子进程</a></li>
<li><a href="cluster.html" class="nav-cluster">cluster 集群</a></li>
<li><a href="cli.html" class="nav-cli">CLI 命令行</a></li>
<li><a href="console.html" class="nav-console">console 控制台</a></li>
<li><a href="corepack.html" class="nav-corepack">Corepack 核心包</a></li>
<li><a href="crypto.html" class="nav-crypto">crypto 加密</a></li>
<li><a href="webcrypto.html" class="nav-webcrypto">crypto/webcrypto 网络加密</a></li>
<li><a href="debugger.html" class="nav-debugger">debugger 调试器</a></li>
<li><a href="deprecations.html" class="nav-deprecations">deprecation 弃用</a></li>
<li><a href="dgram.html" class="nav-dgram">dgram 数据报</a></li>
<li><a href="diagnostics_channel.html" class="nav-diagnostics_channel">diagnostics_channel 诊断通道</a></li>
<li><a href="dns.html" class="nav-dns">dns 域名服务器</a></li>
<li><a href="domain.html" class="nav-domain">domain 域</a></li>
<li><a href="errors.html" class="nav-errors">Error 错误</a></li>
<li><a href="events.html" class="nav-events">events 事件触发器</a></li>
<li><a href="fs.html" class="nav-fs">fs 文件系统</a></li>
<li><a href="globals.html" class="nav-globals">global 全局变量</a></li>
<li><a href="http.html" class="nav-http">http 超文本传输协议</a></li>
<li><a href="http2.html" class="nav-http2">http2 超文本传输协议2.0</a></li>
<li><a href="https.html" class="nav-https">https 安全超文本传输协议</a></li>
<li><a href="inspector.html" class="nav-inspector">inspector 检查器</a></li>
<li><a href="intl.html" class="nav-intl">Intl 国际化</a></li>
<li><a href="module.html" class="nav-module">module 模块</a></li>
<li><a href="modules.html" class="nav-modules">module/cjs CommonJS模块</a></li>
<li><a href="esm.html" class="nav-esm">module/esm ECMAScript模块</a></li>
<li><a href="packages.html" class="nav-packages">module/package 包模块</a></li>
<li><a href="net.html" class="nav-net">net 网络</a></li>
<li><a href="os.html" class="nav-os">os 操作系统</a></li>
<li><a href="path.html" class="nav-path">path 路径</a></li>
<li><a href="perf_hooks.html" class="nav-perf_hooks">perf_hooks 性能钩子</a></li>
<li><a href="policy.html" class="nav-policy">policy 安全策略</a></li>
<li><a href="process.html" class="nav-process">process 进程</a></li>
<li><a href="punycode.html" class="nav-punycode">punycode 域名代码</a></li>
<li><a href="querystring.html" class="nav-querystring">querystring 查询字符串</a></li>
<li><a href="readline.html" class="nav-readline">readline 逐行读取</a></li>
<li><a href="repl.html" class="nav-repl">repl 交互式解释器</a></li>
<li><a href="report.html" class="nav-report">report 诊断报告</a></li>
<li><a href="stream.html" class="nav-stream">stream 流</a></li>
<li><a href="webstreams.html" class="nav-webstreams">stream/web 网络流</a></li>
<li><a href="string_decoder.html" class="nav-string_decoder">string_decoder 字符串解码器</a></li>
<li><a href="timers.html" class="nav-timers">timers 定时器</a></li>
<li><a href="tls.html" class="nav-tls">tls 安全传输层</a></li>
<li><a href="tracing.html" class="nav-tracing">trace_events 跟踪事件</a></li>
<li><a href="tty.html" class="nav-tty">tty 终端</a></li>
<li><a href="url.html" class="nav-url">url 网址</a></li>
<li><a href="util.html" class="nav-util">util 实用工具</a></li>
<li><a href="v8.html" class="nav-v8">v8 引擎</a></li>
<li><a href="vm.html" class="nav-vm">vm 虚拟机</a></li>
<li><a href="wasi.html" class="nav-wasi">wasi 网络汇编系统接口</a></li>
<li><a href="worker_threads.html" class="nav-worker_threads">worker_threads 工作线程</a></li>
<li><a href="zlib.html" class="nav-zlib">zlib 压缩</a></li>
</ul></div>
    </li>
  
            <li class="picker-header">
    <a href="#">
        <span class="collapsed-arrow">►</span><span class="expanded-arrow">▼</span>
        其他版本
      </a>
    <div class="picker"><ol id="alt-docs">
    <li><a href="../api/buffer.html">18.6.0</a></li><li><a href="">16.16.0</a></li><li><a href="../api-v14/buffer.html">14.20.0</a></li>
</ol></div>
  </li>
            <li>
              <a href="http://api.nodejs.cn/" class="link-to-search">搜索</a>
            </li>
            <li>
              
              
            </li>
          </ul>
        </div>
        <hr>
      </header>

      <details id="toc" open=""><summary>目录</summary><ul>
<li><span class="stability_2"><a href="#buffer">buffer 缓冲区</a></span>
<ul>
<li><a href="#buffers-and-character-encodings">缓冲区与字符编码</a></li>
<li><a href="#buffers-and-typedarrays">缓冲区与 TypedArray</a></li>
<li><a href="#buffers-and-iteration">缓冲区与迭代器</a></li>
<li><span class="stability_1"><a href="#class-blob"><code>Blob</code> 类</a></span>
<ul>
<li><a href="#new-bufferblobsources-options"><code>new buffer.Blob([sources[, options]])</code></a></li>
<li><a href="#blobarraybuffer"><code>blob.arrayBuffer()</code></a></li>
<li><a href="#blobsize"><code>blob.size</code></a></li>
<li><a href="#blobslicestart-end-type"><code>blob.slice([start, [end, [type]]])</code></a></li>
<li><a href="#blobstream"><code>blob.stream()</code></a></li>
<li><a href="#blobtext"><code>blob.text()</code></a></li>
<li><a href="#blobtype"><code>blob.type</code></a></li>
<li><a href="#blob-objects-and-messagechannel">Blob 对象和 MessageChannel</a></li>
</ul>
</li>
<li><a href="#class-buffer"><code>Buffer</code> 类</a>
<ul>
<li><a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc(size[, fill[, encoding]])</code></a></li>
<li><a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe(size)</code></a></li>
<li><a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow(size)</code></a></li>
<li><a href="#static-method-bufferbytelengthstring-encoding"><code>Buffer.byteLength(string[, encoding])</code></a></li>
<li><a href="#static-method-buffercomparebuf1-buf2"><code>Buffer.compare(buf1, buf2)</code></a></li>
<li><a href="#static-method-bufferconcatlist-totallength"><code>Buffer.concat(list[, totalLength])</code></a></li>
<li><a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a></li>
<li><a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a></li>
<li><a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a></li>
<li><a href="#static-method-bufferfromobject-offsetorencoding-length"><code>Buffer.from(object[, offsetOrEncoding[, length]])</code></a></li>
<li><a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a></li>
<li><a href="#static-method-bufferisbufferobj"><code>Buffer.isBuffer(obj)</code></a></li>
<li><a href="#static-method-bufferisencodingencoding"><code>Buffer.isEncoding(encoding)</code></a></li>
<li><a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a></li>
<li><a href="#bufindex"><code>buf[index]</code></a></li>
<li><a href="#bufbuffer"><code>buf.buffer</code></a></li>
<li><a href="#bufbyteoffset"><code>buf.byteOffset</code></a></li>
<li><a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend"><code>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</code></a></li>
<li><a href="#bufcopytarget-targetstart-sourcestart-sourceend"><code>buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])</code></a></li>
<li><a href="#bufentries"><code>buf.entries()</code></a></li>
<li><a href="#bufequalsotherbuffer"><code>buf.equals(otherBuffer)</code></a></li>
<li><a href="#buffillvalue-offset-end-encoding"><code>buf.fill(value[, offset[, end]][, encoding])</code></a></li>
<li><a href="#bufincludesvalue-byteoffset-encoding"><code>buf.includes(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#bufindexofvalue-byteoffset-encoding"><code>buf.indexOf(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#bufkeys"><code>buf.keys()</code></a></li>
<li><a href="#buflastindexofvalue-byteoffset-encoding"><code>buf.lastIndexOf(value[, byteOffset][, encoding])</code></a></li>
<li><a href="#buflength"><code>buf.length</code></a></li>
<li><span class="stability_0"><a href="#bufparent"><code>buf.parent</code></a></span></li>
<li><a href="#bufreadbigint64beoffset"><code>buf.readBigInt64BE([offset])</code></a></li>
<li><a href="#bufreadbigint64leoffset"><code>buf.readBigInt64LE([offset])</code></a></li>
<li><a href="#bufreadbiguint64beoffset"><code>buf.readBigUInt64BE([offset])</code></a></li>
<li><a href="#bufreadbiguint64leoffset"><code>buf.readBigUInt64LE([offset])</code></a></li>
<li><a href="#bufreaddoublebeoffset"><code>buf.readDoubleBE([offset])</code></a></li>
<li><a href="#bufreaddoubleleoffset"><code>buf.readDoubleLE([offset])</code></a></li>
<li><a href="#bufreadfloatbeoffset"><code>buf.readFloatBE([offset])</code></a></li>
<li><a href="#bufreadfloatleoffset"><code>buf.readFloatLE([offset])</code></a></li>
<li><a href="#bufreadint8offset"><code>buf.readInt8([offset])</code></a></li>
<li><a href="#bufreadint16beoffset"><code>buf.readInt16BE([offset])</code></a></li>
<li><a href="#bufreadint16leoffset"><code>buf.readInt16LE([offset])</code></a></li>
<li><a href="#bufreadint32beoffset"><code>buf.readInt32BE([offset])</code></a></li>
<li><a href="#bufreadint32leoffset"><code>buf.readInt32LE([offset])</code></a></li>
<li><a href="#bufreadintbeoffset-bytelength"><code>buf.readIntBE(offset, byteLength)</code></a></li>
<li><a href="#bufreadintleoffset-bytelength"><code>buf.readIntLE(offset, byteLength)</code></a></li>
<li><a href="#bufreaduint8offset"><code>buf.readUInt8([offset])</code></a></li>
<li><a href="#bufreaduint16beoffset"><code>buf.readUInt16BE([offset])</code></a></li>
<li><a href="#bufreaduint16leoffset"><code>buf.readUInt16LE([offset])</code></a></li>
<li><a href="#bufreaduint32beoffset"><code>buf.readUInt32BE([offset])</code></a></li>
<li><a href="#bufreaduint32leoffset"><code>buf.readUInt32LE([offset])</code></a></li>
<li><a href="#bufreaduintbeoffset-bytelength"><code>buf.readUIntBE(offset, byteLength)</code></a></li>
<li><a href="#bufreaduintleoffset-bytelength"><code>buf.readUIntLE(offset, byteLength)</code></a></li>
<li><a href="#bufsubarraystart-end"><code>buf.subarray([start[, end]])</code></a></li>
<li><span class="stability_0"><a href="#bufslicestart-end"><code>buf.slice([start[, end]])</code></a></span></li>
<li><a href="#bufswap16"><code>buf.swap16()</code></a></li>
<li><a href="#bufswap32"><code>buf.swap32()</code></a></li>
<li><a href="#bufswap64"><code>buf.swap64()</code></a></li>
<li><a href="#buftojson"><code>buf.toJSON()</code></a></li>
<li><a href="#buftostringencoding-start-end"><code>buf.toString([encoding[, start[, end]]])</code></a></li>
<li><a href="#bufvalues"><code>buf.values()</code></a></li>
<li><a href="#bufwritestring-offset-length-encoding"><code>buf.write(string[, offset[, length]][, encoding])</code></a></li>
<li><a href="#bufwritebigint64bevalue-offset"><code>buf.writeBigInt64BE(value[, offset])</code></a></li>
<li><a href="#bufwritebigint64levalue-offset"><code>buf.writeBigInt64LE(value[, offset])</code></a></li>
<li><a href="#bufwritebiguint64bevalue-offset"><code>buf.writeBigUInt64BE(value[, offset])</code></a></li>
<li><a href="#bufwritebiguint64levalue-offset"><code>buf.writeBigUInt64LE(value[, offset])</code></a></li>
<li><a href="#bufwritedoublebevalue-offset"><code>buf.writeDoubleBE(value[, offset])</code></a></li>
<li><a href="#bufwritedoublelevalue-offset"><code>buf.writeDoubleLE(value[, offset])</code></a></li>
<li><a href="#bufwritefloatbevalue-offset"><code>buf.writeFloatBE(value[, offset])</code></a></li>
<li><a href="#bufwritefloatlevalue-offset"><code>buf.writeFloatLE(value[, offset])</code></a></li>
<li><a href="#bufwriteint8value-offset"><code>buf.writeInt8(value[, offset])</code></a></li>
<li><a href="#bufwriteint16bevalue-offset"><code>buf.writeInt16BE(value[, offset])</code></a></li>
<li><a href="#bufwriteint16levalue-offset"><code>buf.writeInt16LE(value[, offset])</code></a></li>
<li><a href="#bufwriteint32bevalue-offset"><code>buf.writeInt32BE(value[, offset])</code></a></li>
<li><a href="#bufwriteint32levalue-offset"><code>buf.writeInt32LE(value[, offset])</code></a></li>
<li><a href="#bufwriteintbevalue-offset-bytelength"><code>buf.writeIntBE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteintlevalue-offset-bytelength"><code>buf.writeIntLE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteuint8value-offset"><code>buf.writeUInt8(value[, offset])</code></a></li>
<li><a href="#bufwriteuint16bevalue-offset"><code>buf.writeUInt16BE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint16levalue-offset"><code>buf.writeUInt16LE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint32bevalue-offset"><code>buf.writeUInt32BE(value[, offset])</code></a></li>
<li><a href="#bufwriteuint32levalue-offset"><code>buf.writeUInt32LE(value[, offset])</code></a></li>
<li><a href="#bufwriteuintbevalue-offset-bytelength"><code>buf.writeUIntBE(value, offset, byteLength)</code></a></li>
<li><a href="#bufwriteuintlevalue-offset-bytelength"><code>buf.writeUIntLE(value, offset, byteLength)</code></a></li>
<li><span class="stability_0"><a href="#new-bufferarray"><code>new Buffer(array)</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferarraybuffer-byteoffset-length"><code>new Buffer(arrayBuffer[, byteOffset[, length]])</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferbuffer"><code>new Buffer(buffer)</code></a></span></li>
<li><span class="stability_0"><a href="#new-buffersize"><code>new Buffer(size)</code></a></span></li>
<li><span class="stability_0"><a href="#new-bufferstring-encoding"><code>new Buffer(string[, encoding])</code></a></span></li>
</ul>
</li>
<li><a href="#buffer-module-apis">缓冲区模块 API</a>
<ul>
<li><span class="stability_3"><a href="#bufferatobdata"><code>buffer.atob(data)</code></a></span></li>
<li><span class="stability_3"><a href="#bufferbtoadata"><code>buffer.btoa(data)</code></a></span></li>
<li><a href="#bufferinspect_max_bytes"><code>buffer.INSPECT_MAX_BYTES</code></a></li>
<li><a href="#bufferkmaxlength"><code>buffer.kMaxLength</code></a></li>
<li><a href="#bufferkstringmaxlength"><code>buffer.kStringMaxLength</code></a></li>
<li><span class="stability_1"><a href="#bufferresolveobjecturlid"><code>buffer.resolveObjectURL(id)</code></a></span></li>
<li><a href="#buffertranscodesource-fromenc-toenc"><code>buffer.transcode(source, fromEnc, toEnc)</code></a></li>
<li><span class="stability_0"><a href="#class-slowbuffer"><code>SlowBuffer</code> 类</a></span>
<ul>
<li><span class="stability_0"><a href="#new-slowbuffersize"><code>new SlowBuffer(size)</code></a></span></li>
</ul>
</li>
<li><a href="#buffer-constants">缓冲区常量</a>
<ul>
<li><a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a></li>
<li><a href="#bufferconstantsmax_string_length"><code>buffer.constants.MAX_STRING_LENGTH</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bufferfrom-bufferalloc-and-bufferallocunsafe">Buffer.from()、Buffer.alloc() 与 Buffer.allocUnsafe()</a>
<ul>
<li><a href="#the---zero-fill-buffers-command-line-option">--zero-fill-buffers 命令行选项</a></li>
<li><a href="#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe">Buffer.allocUnsafe() 与 Buffer.allocUnsafeSlow() 不安全的原因</a></li>
</ul>
</li>
</ul>
</li>
</ul></details>

      <div id="apicontent">
        <h2>buffer 缓冲区<span><a class="mark" href="#buffer" id="buffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer"></a></h2><p class="tip_wrap" data-show_trans="1" data-item_id="">
                <a href="buffer/buffer.html" class="tip_trans">中英对照</a>
                </p>
<!--introduced_in=v0.1.90-->
<p></p><div class="api_stability api_stability_2"><a href="documentation.html#stability-index">稳定性: 2</a> - 稳定</div><p></p>
<p class=""><strong>源代码:</strong> <a rel="nofollow" href="https://github.com/nodejs/node/blob/v16.16.0/lib/buffer.js">lib/buffer.js</a></p>
<p><code>Buffer</code> 对象用于表示固定长度的字节序列。
许多 Node.js API 都支持 <code>Buffer</code>。</p>
<p class=""><code>Buffer</code> 类是 JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a> 类的子类，并使用涵盖额外用例的方法对其进行扩展。
Node.js API 在支持 <code>Buffer</code> 的地方也接受普通的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</p>
<p class="">虽然 <code>Buffer</code> 类在全局作用域内可用，但仍然建议通过 import 或 require 语句显式地引用它。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建长度为 10 的以零填充的缓冲区。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);

<span class="hljs-comment">// 创建长度为 10 的缓冲区，</span>
<span class="hljs-comment">// 使用值为 `1` 的字节填充。</span>
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>);

<span class="hljs-comment">// 创建长度为 10 的未初始化的缓冲区。</span>
<span class="hljs-comment">// 这比调用 Buffer.alloc() 快，</span>
<span class="hljs-comment">// 但返回的缓冲区实例可能包含旧数据，</span>
<span class="hljs-comment">// 需要使用 fill()、write() 、</span>
<span class="hljs-comment">// 或其他填充缓冲区内容的函数重写。</span>
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">10</span>);

<span class="hljs-comment">// 创建包含字节 [1, 2, 3] 的缓冲区。</span>
<span class="hljs-keyword">const</span> buf4 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);

<span class="hljs-comment">// 创建包含字节 [1, 1, 1, 1] 的缓冲区，</span>
<span class="hljs-comment">// 所有条目都使用 `(value &amp; 255)` 截断以符合范围 0–255。</span>
<span class="hljs-keyword">const</span> buf5 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">257</span>, <span class="hljs-number">257.5</span>, -<span class="hljs-number">255</span>, <span class="hljs-string">'1'</span>]);

<span class="hljs-comment">// 创建包含字符串 'tést' 的 UTF-8 编码字节的缓冲区：</span>
<span class="hljs-comment">// [0x74, 0xc3, 0xa9, 0x73, 0x74]（十六进制）</span>
<span class="hljs-comment">// [116, 195, 169, 115, 116]（十进制）</span>
<span class="hljs-keyword">const</span> buf6 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>);

<span class="hljs-comment">// 创建包含 Latin-1 字节 [0x74, 0xe9, 0x73, 0x74] 的缓冲区。</span>
<span class="hljs-keyword">const</span> buf7 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>, <span class="hljs-string">'latin1'</span>);</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建长度为 10 的以零填充的缓冲区。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);

<span class="hljs-comment">// 创建长度为 10 的缓冲区，</span>
<span class="hljs-comment">// 使用值为 `1` 的字节填充。</span>
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>);

<span class="hljs-comment">// 创建长度为 10 的未初始化的缓冲区。</span>
<span class="hljs-comment">// 这比调用 Buffer.alloc() 快，</span>
<span class="hljs-comment">// 但返回的缓冲区实例可能包含旧数据，</span>
<span class="hljs-comment">// 需要使用 fill()、write() 、</span>
<span class="hljs-comment">// 或其他填充缓冲区内容的函数重写。</span>
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">10</span>);

<span class="hljs-comment">// 创建包含字节 [1, 2, 3] 的缓冲区。</span>
<span class="hljs-keyword">const</span> buf4 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);

<span class="hljs-comment">// 创建包含字节 [1, 1, 1, 1] 的缓冲区，</span>
<span class="hljs-comment">// 所有条目都使用 `(value &amp; 255)` 截断以符合范围 0–255。</span>
<span class="hljs-keyword">const</span> buf5 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">257</span>, <span class="hljs-number">257.5</span>, -<span class="hljs-number">255</span>, <span class="hljs-string">'1'</span>]);

<span class="hljs-comment">// 创建包含字符串 'tést' 的 UTF-8 编码字节的缓冲区：</span>
<span class="hljs-comment">// [0x74, 0xc3, 0xa9, 0x73, 0x74]（十六进制）</span>
<span class="hljs-comment">// [116, 195, 169, 115, 116]（十进制）</span>
<span class="hljs-keyword">const</span> buf6 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>);

<span class="hljs-comment">// 创建包含 Latin-1 字节 [0x74, 0xe9, 0x73, 0x74] 的缓冲区。</span>
<span class="hljs-keyword">const</span> buf7 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>, <span class="hljs-string">'latin1'</span>);</code></pre>
<section><h3>缓冲区与字符编码<span><a class="mark" href="#buffers-and-character-encodings" id="buffers-and-character-encodings">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffers_and_character_encodings"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#buffers-and-character-encodings">
                <a href="buffer/buffers_and_character_encodings.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v15.7.0</td>
<td><p>引入 <code>base64url</code> 编码。</p></td></tr>
<tr><td>v6.4.0</td>
<td><p>引入 <code>latin1</code> 作为 <code>binary</code> 的别名。</p></td></tr>
<tr><td>v5.0.0</td>
<td><p>删除已弃用的 <code>raw</code> 和 <code>raws</code> 编码。</p></td></tr>
</tbody></table>
</details>
</div>
<p>当在 <code>Buffer</code> 和字符串之间进行转换时，可以指定字符编码。
如果未指定字符编码，则默认使用 UTF-8。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-string">'utf8'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: 68656c6c6f20776f726c64</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'base64'</span>));
<span class="hljs-comment">// 打印: aGVsbG8gd29ybGQ=</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'fhqwhgads'</span>, <span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 66 68 71 77 68 67 61 64 73&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'fhqwhgads'</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 66 00 68 00 71 00 77 00 68 00 67 00 61 00 64 00 73 00&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'hello world'</span>, <span class="hljs-string">'utf8'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: 68656c6c6f20776f726c64</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'base64'</span>));
<span class="hljs-comment">// 打印: aGVsbG8gd29ybGQ=</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'fhqwhgads'</span>, <span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 66 68 71 77 68 67 61 64 73&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'fhqwhgads'</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 66 00 68 00 71 00 77 00 68 00 67 00 61 00 64 00 73 00&gt;</span></code></pre>
<p class="">Node.js 缓冲区接受它们接收到的编码字符串的所有大小写变体。
例如，UTF-8 可以指定为 <code>'utf8'</code>、<code>'UTF8'</code> 或 <code>'uTf8'</code>。</p>
<p class="">Node.js 目前支持的字符编码如下：</p>
<ul class="">
<li>
<p><code>'utf8'</code>（别名：<code>'utf-8'</code>）：多字节编码的 Unicode 字符。
许多网页和其他文档格式使用 <a href="https://en.wikipedia.org/wiki/UTF-8" rel="nofollow">UTF-8</a>。
这是默认的字符编码。
当将 <code>Buffer</code> 解码为不完全包含有效 UTF-8 数据的字符串时，则 Unicode 替换字符 <code>U+FFFD</code> � 将用于表示这些错误。</p>
</li>
<li>
<p><code>'utf16le'</code>（别名：<code>'utf-16le'</code>）：多字节编码的 Unicode 字符。
与 <code>'utf8'</code> 不同，字符串中的每个字符都将使用 2 或 4 个字节进行编码。
Node.js 仅支持 <a href="https://en.wikipedia.org/wiki/UTF-16" rel="nofollow">UTF-16</a> 的<a href="https://en.wikipedia.org/wiki/Endianness" rel="nofollow">小端序</a>变体。</p>
</li>
<li>
<p><code>'latin1'</code>: Latin-1 代表 <a href="https://en.wikipedia.org/wiki/ISO-8859-1" rel="nofollow">ISO-8859-1</a>。
此字符编码仅支持 <code>U+0000</code> 至 <code>U+00FF</code> 的 Unicode 字符。
每个字符都使用单个字节进行编码。
不符合该范围的字符将被截断并映射到该范围内的字符。</p>
</li>
</ul>
<p class="">使用以上编码之一将 <code>Buffer</code> 转换为字符串称为解码，将字符串转换为 <code>Buffer</code> 称为编码。</p>
<p class="">Node.js 还支持以下二进制转文本的编码。
对于二进制转文本的编码，命名约定是相反的：将 <code>Buffer</code> 转换为字符串通常称为编码，将字符串转换为 <code>Buffer</code> 通常称为解码。</p>
<ul class="">
<li>
<p><code>'base64'</code>: <a href="https://en.wikipedia.org/wiki/Base64" rel="nofollow">Base64</a> 编码。
当从字符串创建 <code>Buffer</code> 时，此编码还将正确接受 <a href="https://tools.ietf.org/html/rfc4648#section-5" rel="nofollow">RFC 4648，第 5 节</a>中指定的 "URL 和文件名安全字母表"。
base64 编码的字符串中包含的空白字符（例如空格、制表符和换行符）会被忽略。</p>
</li>
<li>
<p><code>'base64url'</code>: <a href="https://tools.ietf.org/html/rfc4648#section-5" rel="nofollow">base64url</a> 编码如 <a href="https://tools.ietf.org/html/rfc4648#section-5" rel="nofollow">RFC 4648 第 5 节</a>中指定。
当从字符串创建 <code>Buffer</code> 时，此编码也将正确接受常规的 base64 编码的字符串。
当将 <code>Buffer</code> 编码为字符串时，此编码将忽略填充。</p>
</li>
<li>
<p><code>'hex'</code>: 将每个字节编码为两个十六进制字符。
当解码不完全由偶数个十六进制字符组成的字符串时，可能会发生数据截断。
请参阅下面的示例。</p>
</li>
</ul>
<p class="">还支持以下旧版字符编码：</p>
<ul class="">
<li>
<p><code>'ascii'</code>: 仅适用于 7 位 <a href="https://en.wikipedia.org/wiki/ASCII" rel="nofollow">ASCII</a> 数据。
当将字符串编码为 <code>Buffer</code> 时，这等效于使用 <code>'latin1'</code>。
当将 <code>Buffer</code> 解码为字符串时，使用此编码将在解码为 <code>'latin1'</code> 之前额外取消设置每个字节的最高位。
通常，没有理由使用此编码，因为在编码或解码纯 ASCII 文本时，<code>'utf8'</code>（或者，如果已知数据始终是纯 ASCII，则为 <code>'latin1'</code>）将是更好的选择。
它仅用于旧版兼容性。</p>
</li>
<li>
<p><code>'binary'</code>: <code>'latin1'</code> 的别名。
有关此主题的更多背景信息，请参阅<a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString/Binary" rel="nofollow">二进制字符串</a>。
此编码的名称很容易让人误解，因为这里列出的所有编码都在字符串和二进制数据之间进行转换。
对于字符串和 <code>Buffer</code> 之间的转换，通常 <code>'utf8'</code> 是正确的选择。</p>
</li>
<li>
<p><code>'ucs2'</code>, <code>'ucs-2'</code>: <code>'utf16le'</code> 的别名。
UCS-2 过去指的是 UTF-16 的一种变体，它不支持代码点大于 U+FFFF 的字符。
在 Node.js 中，始终支持这些代码点。</p>
</li>
</ul>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1ag123'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 1a&gt;，当遇到第一个非十六进制值 ('g') 时，则截断数据。</span>

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1a7'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 1a&gt;，当数据以一位数 ('7') 结尾时，则截断数据。</span>

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1634'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 16 34&gt;，表现所有数据。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1ag123'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 1a&gt;，当遇到第一个非十六进制值 ('g') 时，则截断数据。</span>

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1a7'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 1a&gt;，当数据以一位数 ('7') 结尾时，则截断数据。</span>

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1634'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-comment">// 打印 &lt;Buffer 16 34&gt;，表现所有数据。</span></code></pre>
<p class="">现代 Web 浏览器遵循 <a href="https://encoding.spec.whatwg.org/" rel="nofollow">WHATWG 编码标准</a>，其将 <code>'latin1'</code> 和 <code>'ISO-8859-1'</code> 别名为 <code>'win-1252'</code>。
这意味着在执行 <code>http.get()</code> 之类的操作时，如果返回的字符集是 WHATWG 规范中列出的字符集之一，则服务器实际上可能返回 <code>'win-1252'</code> 编码的数据，使用 <code>'latin1'</code> 编码可能会错误地解码字符。</p>
</section><section><h3>缓冲区与 TypedArray<span><a class="mark" href="#buffers-and-typedarrays" id="buffers-and-typedarrays">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffers_and_typedarrays"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#buffers-and-typedarrays">
                <a href="buffer/buffers_and_typedarrays.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v3.0.0</td>
<td><p>类 <code>Buffer</code> 现在继承自 <code>Uint8Array</code>。</p></td></tr>
</tbody></table>
</details>
</div>
<p><code>Buffer</code> 实例也是 JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 实例。
所有 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 方法都可在 <code>Buffer</code> 上使用。
但是，<code>Buffer</code> API 和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> API 之间存在细微的不兼容。</p>
<p class="">特别是：</p>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/slice" rel="nofollow"><code>TypedArray.prototype.slice()</code></a> 创建 <code>TypedArray</code> 部分的副本，而 <a href="#bufslicestart-end"><code>Buffer.prototype.slice()</code></a> 在现有 <code>Buffer</code> 上创建视图而不进行复制。
这种行为可能会有意外，并且仅存在于旧版兼容性中。
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray" rel="nofollow"><code>TypedArray.prototype.subarray()</code></a> 可用于在 <code>Buffer</code> 和其他 <code>TypedArray</code> 上实现 <a href="#bufslicestart-end"><code>Buffer.prototype.slice()</code></a> 的行为，且应该是首选。</li>
<li><a href="#buftostringencoding-start-end"><code>buf.toString()</code></a> 与其对应的 <code>TypedArray</code> 不兼容。</li>
<li>多种方法，例如 <a href="#bufindexofvalue-byteoffset-encoding"><code>buf.indexOf()</code></a>，支持额外的参数。</li>
</ul>
<p class="">有两种方式可以从 <code>Buffer</code> 创建新的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 实例：</p>
<ul class="">
<li>将 <code>Buffer</code> 传给 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 构造函数将复制 <code>Buffer</code> 的内容，解释为整数数组，而不是目标类型的字节序列。</li>
</ul>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
<span class="hljs-keyword">const</span> uint32array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(buf);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uint32array);

<span class="hljs-comment">// 打印: Uint32Array(4) [ 1, 2, 3, 4 ]</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
<span class="hljs-keyword">const</span> uint32array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(buf);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uint32array);

<span class="hljs-comment">// 打印: Uint32Array(4) [ 1, 2, 3, 4 ]</span></code></pre>
<ul class="">
<li>传入 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 底层的 <code>Buffer</code> 将创建与 <code>Buffer</code> 共享其内存的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a>。</li>
</ul>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'hello'</span>, <span class="hljs-string">'utf16le'</span>);
<span class="hljs-keyword">const</span> uint16array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(
  buf.<span class="hljs-property">buffer</span>,
  buf.<span class="hljs-property">byteOffset</span>,
  buf.<span class="hljs-property">length</span> / <span class="hljs-title class_">Uint16Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uint16array);

<span class="hljs-comment">// 打印: Uint16Array(5) [ 104, 101, 108, 108, 111 ]</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'hello'</span>, <span class="hljs-string">'utf16le'</span>);
<span class="hljs-keyword">const</span> uint16array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(
  buf.<span class="hljs-property">buffer</span>,
  buf.<span class="hljs-property">byteOffset</span>,
  buf.<span class="hljs-property">length</span> / <span class="hljs-title class_">Uint16Array</span>.<span class="hljs-property">BYTES_PER_ELEMENT</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uint16array);

<span class="hljs-comment">// 打印: Uint16Array(5) [ 104, 101, 108, 108, 111 ]</span></code></pre>
<p class="">通过以相同的方式使用 <code>TypedArray</code> 对象的 <code>.buffer</code> 属性，可以创建新的 <code>Buffer</code>，它与 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 实例共享相同的分配内存。
<a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from()</code></a> 在这种情况下表现得像 <code>new Uint8Array()</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">2</span>);

arr[<span class="hljs-number">0</span>] = <span class="hljs-number">5000</span>;
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">4000</span>;

<span class="hljs-comment">// 复制 `arr` 的内容。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr);

<span class="hljs-comment">// 与 `arr` 共享内存。</span>
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 88 a0&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 a0 0f&gt;</span>

arr[<span class="hljs-number">1</span>] = <span class="hljs-number">6000</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 88 a0&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 70 17&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">2</span>);

arr[<span class="hljs-number">0</span>] = <span class="hljs-number">5000</span>;
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">4000</span>;

<span class="hljs-comment">// 复制 `arr` 的内容。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr);

<span class="hljs-comment">// 与 `arr` 共享内存。</span>
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 88 a0&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 a0 0f&gt;</span>

arr[<span class="hljs-number">1</span>] = <span class="hljs-number">6000</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 88 a0&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 70 17&gt;</span></code></pre>
<p class="">使用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 的 <code>.buffer</code> 创建 <code>Buffer</code> 时，可以通过传入 <code>byteOffset</code> 和 <code>length</code> 参数仅使用底层 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 的一部分。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">20</span>);
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 16</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">20</span>);
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 16</span></code></pre>
<p class=""><code>Buffer.from()</code> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from" rel="nofollow"><code>TypedArray.from()</code></a> 具有不同的签名和实现。
具体来说，<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 变体接受第二个参数，该参数是在类型化数组的每个元素上调用的映射函数：</p>
<ul class="">
<li><code>TypedArray.from(source[, mapFn[, thisArg]])</code></li>
</ul>
<p class="">但是，<code>Buffer.from()</code> 方法不支持使用映射函数：</p>
<ul class="">
<li><a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a></li>
<li><a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a></li>
<li><a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a></li>
<li><a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a></li>
</ul>
</section><section><h3>缓冲区与迭代器<span><a class="mark" href="#buffers-and-iteration" id="buffers-and-iteration">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffers_and_iteration"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#buffers-and-iteration">
                <a href="buffer/buffers_and_iteration.html" class="tip_trans">中英对照</a>
                </p>
<p>可以使用 <code>for..of</code> 语法迭代 <code>Buffer</code> 实例：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> b <span class="hljs-keyword">of</span> buf) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   1</span>
<span class="hljs-comment">//   2</span>
<span class="hljs-comment">//   3</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> b <span class="hljs-keyword">of</span> buf) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   1</span>
<span class="hljs-comment">//   2</span>
<span class="hljs-comment">//   3</span></code></pre>
<p class="">此外，<a href="#bufvalues"><code>buf.values()</code></a>、<a href="#bufkeys"><code>buf.keys()</code></a> 和 <a href="#bufentries"><code>buf.entries()</code></a> 方法可用于创建迭代器。</p>
</section><section><h3><code>Blob</code> 类<span><a class="mark" href="#class-blob" id="class-blob">#</a></span><a aria-hidden="true" class="legacy" id="buffer_class_blob"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#class-blob">
                <a href="buffer/class_blob.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<p></p><div class="api_stability api_stability_1"><a href="documentation.html#stability-index">稳定性: 1</a> - 实验</div><p></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" rel="nofollow"><code>Blob</code></a> 封装了不可变的原始数据，可以在多个工作线程之间安全地共享。</p>
<h4><code>new buffer.Blob([sources[, options]])</code><span><a class="mark" href="#new-bufferblobsources-options" id="new-bufferblobsources-options">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_blob_sources_options"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-bufferblobsources-options">
                <a href="buffer/new_buffer_blob_sources_options.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v16.7.0</td>
<td><p>添加了标准的 <code>endings</code> 选项来替换行尾，并且删除了非标准的 <code>encoding</code> 选项。</p></td></tr>
<tr><td>v15.7.0</td>
<td><p><span>新增于: v15.7.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>sources</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow" class="type">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="nofollow" class="type">&lt;DataView[]&gt;</a> | <a href="#class-blob" rel="nofollow" class="type">&lt;Blob[]&gt;</a> 将存储在 <code>Blob</code> 中的字符串数组、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow" class="type">&lt;TypedArray&gt;</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="nofollow" class="type">&lt;DataView&gt;</a> 或 <a href="#class-blob" rel="nofollow" class="type">&lt;Blob&gt;</a> 对象、或此类对象的任何组合。</li>
<li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="nofollow" class="type">&lt;Object&gt;</a>
<ul>
<li><code>endings</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> <code>'transparent'</code> 或 <code>'native'</code> 之一。
当设置为 <code>'native'</code> 时，字符串源部分中的行尾将转换为 <code>require('os').EOL</code> 指定的平台原生的行尾。</li>
<li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> Blob 内容类型。
目的是让 <code>type</code> 传达数据的 MIME 媒体类型，但不执行类型格式的验证。</li>
</ul>
</li>
</ul>
<p>创建新的 <code>Blob</code> 对象，其中包含给定源的串接。</p>
<p class=""><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow" class="type">&lt;TypedArray&gt;</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="nofollow" class="type">&lt;DataView&gt;</a> 和 <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> 源被复制到 'Blob' 中，因此可以在创建 'Blob' 后安全地修改。</p>
<p class="">字符串源被编码为 UTF-8 字节序列并复制到 Blob 中。
每个字符串部分中不匹配的代理对将被 Unicode U+FFFD 替换字符替换。</p>
<h4><code>blob.arrayBuffer()</code><span><a class="mark" href="#blobarraybuffer" id="blobarraybuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_arraybuffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobarraybuffer">
                <a href="buffer/blob_arraybuffer.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="nofollow" class="type">&lt;Promise&gt;</a></li>
</ul>
<p>返回使用包含 <code>Blob</code> 数据副本的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a> 履行的 promise。</p>
<h4><code>blob.size</code><span><a class="mark" href="#blobsize" id="blobsize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_size"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobsize">
                <a href="buffer/blob_size.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<p><code>Blob</code> 的总大小（以字节为单位）。</p>
<h4><code>blob.slice([start, [end, [type]]])</code><span><a class="mark" href="#blobslicestart-end-type" id="blobslicestart-end-type">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_slice_start_end_type"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobslicestart-end-type">
                <a href="buffer/blob_slice_start_end_type.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<ul class="">
<li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 起始索引。</li>
<li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 结束索引。</li>
<li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 新 <code>Blob</code> 的内容类型</li>
</ul>
<p>创建并返回包含此 <code>Blob</code> 对象数据子集的新 <code>Blob</code>。
原 <code>Blob</code> 没有改动。</p>
<h4><code>blob.stream()</code><span><a class="mark" href="#blobstream" id="blobstream">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_stream"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobstream">
                <a href="buffer/blob_stream.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v16.7.0</span>
</div>
<ul class="">
<li>返回: <a href="webstreams.html#class-readablestream" rel="nofollow" class="type">&lt;ReadableStream&gt;</a></li>
</ul>
<p>返回允许读取 <code>Blob</code> 内容的新 <code>ReadableStream</code>。</p>
<h4><code>blob.text()</code><span><a class="mark" href="#blobtext" id="blobtext">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_text"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobtext">
                <a href="buffer/blob_text.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="nofollow" class="type">&lt;Promise&gt;</a></li>
</ul>
<p>返回使用解码为 UTF-8 字符串的 <code>Blob</code> 的内容履行的 promise。</p>
<h4><code>blob.type</code><span><a class="mark" href="#blobtype" id="blobtype">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_type"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blobtype">
                <a href="buffer/blob_type.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.7.0</span>
</div>
<ul class="">
<li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul>
<p><code>Blob</code> 的内容类型。</p>
<h4>Blob 对象和 MessageChannel<span><a class="mark" href="#blob-objects-and-messagechannel" id="blob-objects-and-messagechannel">#</a></span><a aria-hidden="true" class="legacy" id="buffer_blob_objects_and_messagechannel"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#blob-objects-and-messagechannel">
                <a href="buffer/blob_objects_and_messagechannel.html" class="tip_trans">中英对照</a>
                </p>
<p>一旦创建了 <a href="#class-blob" rel="nofollow" class="type">&lt;Blob&gt;</a> 对象，就可以通过 <code>MessagePort</code> 将其发送到多个目的地，而无需传输或立即复制数据。
只有在调用 <code>arrayBuffer()</code> 或 <code>text()</code> 方法时才会复制 <code>Blob</code> 包含的数据。</p>

<pre class="with-57-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Blob</span>, <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-built_in">setTimeout</span> <span class="hljs-keyword">as</span> delay } <span class="hljs-keyword">from</span> <span class="hljs-string">'timers/promises'</span>;

<span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([<span class="hljs-string">'hello there'</span>]);

<span class="hljs-keyword">const</span> mc1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();
<span class="hljs-keyword">const</span> mc2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();

mc1.<span class="hljs-property">port1</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> ({ data }) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">arrayBuffer</span>());
  mc1.<span class="hljs-property">port1</span>.<span class="hljs-title function_">close</span>();
};

mc2.<span class="hljs-property">port1</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> ({ data }) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>(<span class="hljs-number">1000</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">arrayBuffer</span>());
  mc2.<span class="hljs-property">port1</span>.<span class="hljs-title function_">close</span>();
};

mc1.<span class="hljs-property">port2</span>.<span class="hljs-title function_">postMessage</span>(blob);
mc2.<span class="hljs-property">port2</span>.<span class="hljs-title function_">postMessage</span>(blob);

<span class="hljs-comment">// 发布后 Blob 仍然可用。</span>
blob.<span class="hljs-title function_">text</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>);</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Blob</span>, <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-attr">setTimeout</span>: delay } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'timers/promises'</span>);

<span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([<span class="hljs-string">'hello there'</span>]);

<span class="hljs-keyword">const</span> mc1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();
<span class="hljs-keyword">const</span> mc2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageChannel</span>();

mc1.<span class="hljs-property">port1</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> ({ data }) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">arrayBuffer</span>());
  mc1.<span class="hljs-property">port1</span>.<span class="hljs-title function_">close</span>();
};

mc2.<span class="hljs-property">port1</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> ({ data }) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>(<span class="hljs-number">1000</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">arrayBuffer</span>());
  mc2.<span class="hljs-property">port1</span>.<span class="hljs-title function_">close</span>();
};

mc1.<span class="hljs-property">port2</span>.<span class="hljs-title function_">postMessage</span>(blob);
mc2.<span class="hljs-property">port2</span>.<span class="hljs-title function_">postMessage</span>(blob);

<span class="hljs-comment">// 发布后 Blob 仍然可用。</span>
blob.<span class="hljs-title function_">text</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>);</code></pre>
</section><section><h3><code>Buffer</code> 类<span><a class="mark" href="#class-buffer" id="class-buffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_class_buffer"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#class-buffer">
                <a href="buffer/class_buffer.html" class="tip_trans">中英对照</a>
                </p>
<p><code>Buffer</code> 类是直接处理二进制数据的全局类型。
它可以使用多种方式构建。</p>
<h4><code>Buffer.alloc(size[, fill[, encoding]])</code><span><a class="mark" href="#static-method-bufferallocsize-fill-encoding" id="static-method-bufferallocsize-fill-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_alloc_size_fill_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferallocsize-fill-encoding">
                <a href="buffer/static_method_buffer_alloc_size_fill_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v15.0.0</td>
<td><p>对于无效的输入参数，抛出 ERR_INVALID_ARG_VALUE 而不是 ERR_INVALID_OPT_VALUE。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>尝试使用零长度缓冲区填充非零长度缓冲区，则会触发抛出异常。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>为 <code>fill</code> 指定无效字符串，则会触发抛出异常。</p></td></tr>
<tr><td>v8.9.3</td>
<td><p>为 <code>fill</code> 指定无效字符串，现在会导致缓冲区以零填充。</p></td></tr>
<tr><td>v5.10.0</td>
<td><p><span>新增于: v5.10.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 所需的长度。</li>
<li><code>fill</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 用于预填充新 <code>Buffer</code> 的值。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>fill</code> 是字符串，则这就是它的编码。
<strong>默认值:</strong> <code>'utf8'</code>。</li>
</ul>
<p>分配 <code>size</code> 个字节的新 <code>Buffer</code>。
如果 <code>fill</code> 为 <code>undefined</code>，则 <code>Buffer</code> 将以零填充。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">5</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 00&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">5</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 00&gt;</span></code></pre>
<p class="">如果 <code>size</code> 大于 <a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a> 或小于 0，则抛出 <a href="errors.html#err_invalid_arg_value"><code>ERR_INVALID_ARG_VALUE</code></a>。</p>
<p class="">如果指定了 <code>fill</code>，则分配的 <code>Buffer</code> 将通过调用 <a href="#buffillvalue-offset-end-encoding"><code>buf.fill(fill)</code></a> 进行初始化。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">5</span>, <span class="hljs-string">'a'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 61 61 61 61 61&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">5</span>, <span class="hljs-string">'a'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 61 61 61 61 61&gt;</span></code></pre>
<p class="">如果同时指定了 <code>fill</code> 和 <code>encoding</code>，则分配的 <code>Buffer</code> 将通过调用 <a href="#buffillvalue-offset-end-encoding"><code>buf.fill(fill, encoding)</code></a> 进行初始化。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">11</span>, <span class="hljs-string">'aGVsbG8gd29ybGQ='</span>, <span class="hljs-string">'base64'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">11</span>, <span class="hljs-string">'aGVsbG8gd29ybGQ='</span>, <span class="hljs-string">'base64'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span></code></pre>
<p class="">调用 <a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a> 可能比替代的 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 慢得多，但可确保新创建的 <code>Buffer</code> 实例的内容永远不会包含来自先前分配的敏感数据，包括可能尚未分配给 <code>Buffer</code> 的数据。</p>
<p class="">如果 <code>size</code> 不是数值，则会抛出 <code>TypeError</code>。</p>
<h4><code>Buffer.allocUnsafe(size)</code><span><a class="mark" href="#static-method-bufferallocunsafesize" id="static-method-bufferallocunsafesize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_allocunsafe_size"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferallocunsafesize">
                <a href="buffer/static_method_buffer_allocunsafe_size.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v15.0.0</td>
<td><p>对于无效的输入参数，抛出 ERR_INVALID_ARG_VALUE 而不是 ERR_INVALID_OPT_VALUE。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>传入负的 <code>size</code> 现在会抛出错误。</p></td></tr>
<tr><td>v5.10.0</td>
<td><p><span>新增于: v5.10.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 所需的长度。</li>
</ul>
<p>分配 <code>size</code> 个字节的新 <code>Buffer</code>。
如果 <code>size</code> 大于 <a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a> 或小于 0，则抛出 <a href="errors.html#err_invalid_arg_value"><code>ERR_INVALID_ARG_VALUE</code></a>。</p>
<p class="">以这种方式创建的 <code>Buffer</code> 实例的底层内存不会被初始化。
新创建的 <code>Buffer</code> 的内容是未知的，可能包含敏感的数据。
使用 <a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a> 来用零初始化 <code>Buffer</code> 实例。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">10</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印（内容可能会有所不同）: &lt;Buffer a0 8b 28 3f 01 00 00 00 50 32&gt;</span>

buf.<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">10</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印（内容可能会有所不同）: &lt;Buffer a0 8b 28 3f 01 00 00 00 50 32&gt;</span>

buf.<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></code></pre>
<p class="">如果 <code>size</code> 不是数值，则会抛出 <code>TypeError</code>。</p>
<p class=""><code>Buffer</code> 模块预先分配了大小为 <a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a> 的内部 <code>Buffer</code> 实例作为池，用于快速分配使用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a>、<a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a>、<a href="#static-method-bufferconcatlist-totallength"><code>Buffer.concat()</code></a> 创建的新 <code>Buffer</code> 实例，仅当 <code>size</code> 小于或等于 <code>Buffer.poolSize &gt;&gt; 1</code>（<a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a> 除以二再向下取整）时才使用弃用的 <code>new Buffer(size)</code> 构造函数。</p>
<p class="">使用此预先分配的内部内存池是调用 <code>Buffer.alloc(size, fill)</code> 与调用 <code>Buffer.alloc(size, fill)</code> 之间的关键区别。
具体来说，<code>Buffer.alloc(size, fill)</code> 永远不会使用内部的 <code>Buffer</code> 池，而 <code>Buffer.allocUnsafe(size).fill(fill)</code> 会在 <code>size</code> 小于或等于 <a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a> 的一半时使用内部的 <code>Buffer</code> 池。
当应用程序需要 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 提供的额外性能时，差异很细微，但可能很重要。</p>
<h4><code>Buffer.allocUnsafeSlow(size)</code><span><a class="mark" href="#static-method-bufferallocunsafeslowsize" id="static-method-bufferallocunsafeslowsize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_allocunsafeslow_size"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferallocunsafeslowsize">
                <a href="buffer/static_method_buffer_allocunsafeslow_size.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v15.0.0</td>
<td><p>对于无效的输入参数，抛出 ERR_INVALID_ARG_VALUE 而不是 ERR_INVALID_OPT_VALUE。</p></td></tr>
<tr><td>v5.12.0</td>
<td><p><span>新增于: v5.12.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 所需的长度。</li>
</ul>
<p>分配 <code>size</code> 个字节的新 <code>Buffer</code>。
如果 <code>size</code> 大于 <a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a> 或小于 0，则抛出 <a href="errors.html#err_invalid_arg_value"><code>ERR_INVALID_ARG_VALUE</code></a>。
如果 <code>size</code> 为 0，则创建零长度 <code>Buffer</code>。</p>
<p class="">以这种方式创建的 <code>Buffer</code> 实例的底层内存不会被初始化。
新创建的 <code>Buffer</code> 的内容是未知的，可能包含敏感的数据。
使用 <a href="#buffillvalue-offset-end-encoding"><code>buf.fill(0)</code></a> 用零初始化此类 <code>Buffer</code> 实例。</p>
<p class="">当使用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 分配新的 <code>Buffer</code> 实例时，4 KB 以下的分配将从单个预先分配的 <code>Buffer</code> 中切分。
这允许应用程序避免创建许多单独分配的 <code>Buffer</code> 实例的垃圾收集开销。
这种方法无需跟踪和清理尽可能多的单个 <code>ArrayBuffer</code> 对象，从而提高了性能和内存使用率。</p>
<p class="">但是，在开发人员可能需要在不确定的时间内从池中保留一小块内存的情况下，使用 <code>Buffer.allocUnsafeSlow()</code> 创建未池化的 <code>Buffer</code> 实例然后复制出相关位可能是合适的。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 需要保留一些小块内存。</span>
<span class="hljs-keyword">const</span> store = [];

socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readable'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">let</span> data;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">null</span> !== (data = readable.<span class="hljs-title function_">read</span>())) {
    <span class="hljs-comment">// 为保留的数据分配。</span>
    <span class="hljs-keyword">const</span> sb = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafeSlow</span>(<span class="hljs-number">10</span>);

    <span class="hljs-comment">// 将数据复制到新分配中。</span>
    data.<span class="hljs-title function_">copy</span>(sb, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);

    store.<span class="hljs-title function_">push</span>(sb);
  }
});</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 需要保留一些小块内存。</span>
<span class="hljs-keyword">const</span> store = [];

socket.<span class="hljs-title function_">on</span>(<span class="hljs-string">'readable'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">let</span> data;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">null</span> !== (data = readable.<span class="hljs-title function_">read</span>())) {
    <span class="hljs-comment">// 为保留的数据分配。</span>
    <span class="hljs-keyword">const</span> sb = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafeSlow</span>(<span class="hljs-number">10</span>);

    <span class="hljs-comment">// 将数据复制到新分配中。</span>
    data.<span class="hljs-title function_">copy</span>(sb, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);

    store.<span class="hljs-title function_">push</span>(sb);
  }
});</code></pre>
<p class="">如果 <code>size</code> 不是数值，则会抛出 <code>TypeError</code>。</p>
<h4><code>Buffer.byteLength(string[, encoding])</code><span><a class="mark" href="#static-method-bufferbytelengthstring-encoding" id="static-method-bufferbytelengthstring-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_bytelength_string_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferbytelengthstring-encoding">
                <a href="buffer/static_method_buffer_bytelength_string_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v7.0.0</td>
<td><p>传入无效输入现在将抛出错误。</p></td></tr>
<tr><td>v5.10.0</td>
<td><p>参数 <code>string</code> 现在可以是任何 <code>TypedArray</code>、<code>DataView</code> 或 <code>ArrayBuffer</code>。</p></td></tr>
<tr><td>v0.1.90</td>
<td><p><span>新增于: v0.1.90</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow" class="type">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="nofollow" class="type">&lt;DataView&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow" class="type">&lt;SharedArrayBuffer&gt;</a> 用于计算长度的值。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>string</code> 是字符串，则这就是它的编码。
<strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>string</code> 中包含的字节数。</li>
</ul>
<p>使用 <code>encoding</code> 编码时返回字符串的字节长度。
这与 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length" rel="nofollow"><code>String.prototype.length</code></a> 不同，<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length" rel="nofollow"><code>String.prototype.length</code></a> 不考虑用于将字符串转换为字节的编码。</p>
<p class="">对于 <code>'base64'</code>、<code>'base64url'</code> 和 <code>'hex'</code>，此函数假定输入有效。
对于包含非 base64/hex 编码数据（例如空格）的字符串，返回值可能大于从字符串创建的 <code>Buffer</code> 的长度。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> str = <span class="hljs-string">'\u00bd + \u00bc = \u00be'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${str}</span>: <span class="hljs-subst">${str.length}</span> characters, `</span> +
            <span class="hljs-string">`<span class="hljs-subst">${Buffer.byteLength(str, <span class="hljs-string">'utf8'</span>)}</span> bytes`</span>);
<span class="hljs-comment">// 打印: ½ + ¼ = ¾: 9 characters, 12 bytes</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> str = <span class="hljs-string">'\u00bd + \u00bc = \u00be'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${str}</span>: <span class="hljs-subst">${str.length}</span> characters, `</span> +
            <span class="hljs-string">`<span class="hljs-subst">${Buffer.byteLength(str, <span class="hljs-string">'utf8'</span>)}</span> bytes`</span>);
<span class="hljs-comment">// 打印: ½ + ¼ = ¾: 9 characters, 12 bytes</span></code></pre>
<p class="">当 <code>string</code> 为 <code>Buffer</code>/<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="nofollow"><code>DataView</code></a>/<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a>/<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a>/<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow"><code>SharedArrayBuffer</code></a> 时，返回 <code>.byteLength</code> 报告的字节长度。</p>
<h4><code>Buffer.compare(buf1, buf2)</code><span><a class="mark" href="#static-method-buffercomparebuf1-buf2" id="static-method-buffercomparebuf1-buf2">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_compare_buf1_buf2"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-buffercomparebuf1-buf2">
                <a href="buffer/static_method_buffer_compare_buf1_buf2.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p>参数现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v0.11.13</td>
<td><p><span>新增于: v0.11.13</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>buf1</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a></li>
<li><code>buf2</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a></li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>-1</code>、<code>0</code> 或 <code>1</code>，取决于比较的结果。
详见 <a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend"><code>buf.compare()</code></a>。</li>
</ul>
<p>比较 <code>buf1</code> 和 <code>buf2</code>，通常用于对 <code>Buffer</code> 实例的数组进行排序。
这相当于调用 <a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend"><code>buf1.compare(buf2)</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1234'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'0123'</span>);
<span class="hljs-keyword">const</span> arr = [buf1, buf2];

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">sort</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-property">compare</span>));
<span class="hljs-comment">// 打印: [ &lt;Buffer 30 31 32 33&gt;, &lt;Buffer 31 32 33 34&gt; ]</span>
<span class="hljs-comment">// （此结果相当于：[buf2, buf1]。）</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'1234'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'0123'</span>);
<span class="hljs-keyword">const</span> arr = [buf1, buf2];

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">sort</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-property">compare</span>));
<span class="hljs-comment">// 打印: [ &lt;Buffer 30 31 32 33&gt;, &lt;Buffer 31 32 33 34&gt; ]</span>
<span class="hljs-comment">// （此结果相当于：[buf2, buf1]。）</span></code></pre>
<h4><code>Buffer.concat(list[, totalLength])</code><span><a class="mark" href="#static-method-bufferconcatlist-totallength" id="static-method-bufferconcatlist-totallength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_concat_list_totallength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferconcatlist-totallength">
                <a href="buffer/static_method_buffer_concat_list_totallength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p><code>list</code> 的元素现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v0.7.11</td>
<td><p><span>新增于: v0.7.11</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>list</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array[]&gt;</a> 要连接的 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a> 实例的列表。</li>
<li><code>totalLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 连接时 <code>list</code> 中 <code>Buffer</code> 实例的总长度。</li>
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p>返回新的 <code>Buffer</code>，它是将 <code>list</code> 中的所有 <code>Buffer</code> 实例连接在一起的结果。</p>
<p class="">如果列表没有条目，或者 <code>totalLength</code> 为 0，则返回新的零长度 <code>Buffer</code>。</p>
<p class="">如果未提供 <code>totalLength</code>，则从 <code>list</code> 中的 <code>Buffer</code> 实例通过相加其长度来计算。</p>
<p class="">如果提供了 <code>totalLength</code>，则将其强制为无符号整数。
如果 <code>list</code> 中 <code>Buffer</code> 的组合长度超过 <code>totalLength</code>，则结果截断为 <code>totalLength</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 从三个 `Buffer` 实例的列表创建单个 `Buffer`。</span>

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">14</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">18</span>);
<span class="hljs-keyword">const</span> totalLength = buf1.<span class="hljs-property">length</span> + buf2.<span class="hljs-property">length</span> + buf3.<span class="hljs-property">length</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(totalLength);
<span class="hljs-comment">// 打印: 42</span>

<span class="hljs-keyword">const</span> bufA = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">concat</span>([buf1, buf2, buf3], totalLength);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bufA);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 ...&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bufA.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 42</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 从三个 `Buffer` 实例的列表创建单个 `Buffer`。</span>

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">14</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">18</span>);
<span class="hljs-keyword">const</span> totalLength = buf1.<span class="hljs-property">length</span> + buf2.<span class="hljs-property">length</span> + buf3.<span class="hljs-property">length</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(totalLength);
<span class="hljs-comment">// 打印: 42</span>

<span class="hljs-keyword">const</span> bufA = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">concat</span>([buf1, buf2, buf3], totalLength);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bufA);
<span class="hljs-comment">// 打印: &lt;Buffer 00 00 00 00 ...&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bufA.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 42</span></code></pre>
<p class=""><code>Buffer.concat()</code> 也像 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 一样使用内部 <code>Buffer</code> 池。</p>
<h4><code>Buffer.from(array)</code><span><a class="mark" href="#static-method-bufferfromarray" id="static-method-bufferfromarray">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_from_array"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferfromarray">
                <a href="buffer/static_method_buffer_from_array.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li><code>array</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer[]&gt;</a></li>
</ul>
<p>使用 <code>0</code> – <code>255</code> 范围内的字节 <code>array</code> 分配新的 <code>Buffer</code>。
该范围之外的数组条目将被截断以符合它。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建包含字符串 'buffer' 的 UTF-8 字节的新缓冲区。</span>
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x62</span>, <span class="hljs-number">0x75</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x72</span>]);</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建包含字符串 'buffer' 的 UTF-8 字节的新缓冲区。</span>
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x62</span>, <span class="hljs-number">0x75</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x66</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x72</span>]);</code></pre>
<p class="">如果 <code>array</code> 不是 <code>Array</code> 或其他适用于 <code>Buffer.from()</code> 变体的类型，则将抛出 <code>TypeError</code>。</p>
<p class=""><code>Buffer.from(array)</code> 和 <a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string)</code></a> 也像 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 一样使用内部 <code>Buffer</code> 池。</p>
<h4><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code><span><a class="mark" href="#static-method-bufferfromarraybuffer-byteoffset-length" id="static-method-bufferfromarraybuffer-byteoffset-length">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_from_arraybuffer_byteoffset_length"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferfromarraybuffer-byteoffset-length">
                <a href="buffer/static_method_buffer_from_arraybuffer_byteoffset_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li><code>arrayBuffer</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow" class="type">&lt;SharedArrayBuffer&gt;</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow"><code>SharedArrayBuffer</code></a>，例如 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 的 <code>.buffer</code> 属性。</li>
<li><code>byteOffset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要暴露的第一个字节的索引。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要暴露的字节数。
<strong>默认值:</strong> <code>arrayBuffer.byteLength - byteOffset</code>。</li>
</ul>
<p>这将创建 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 的视图，而无需复制底层内存。
例如，当传入对 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 实例的 <code>.buffer</code> 属性的引用时，新创建的 <code>Buffer</code> 将与 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 的底层 <code>ArrayBuffer</code> 共享相同的分配内存。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">2</span>);

arr[<span class="hljs-number">0</span>] = <span class="hljs-number">5000</span>;
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">4000</span>;

<span class="hljs-comment">// 与 `arr` 共享内存。</span>
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 a0 0f&gt;</span>

<span class="hljs-comment">// 更改原始的 Uint16Array 也会更改缓冲区。</span>
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">6000</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 70 17&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">2</span>);

arr[<span class="hljs-number">0</span>] = <span class="hljs-number">5000</span>;
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">4000</span>;

<span class="hljs-comment">// 与 `arr` 共享内存。</span>
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arr.<span class="hljs-property">buffer</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 a0 0f&gt;</span>

<span class="hljs-comment">// 更改原始的 Uint16Array 也会更改缓冲区。</span>
arr[<span class="hljs-number">1</span>] = <span class="hljs-number">6000</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 88 13 70 17&gt;</span></code></pre>
<p class="">可选的 <code>byteOffset</code> 和 <code>length</code> 参数指定了 <code>arrayBuffer</code> 中将由 <code>Buffer</code> 共享的内存范围。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> ab = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(ab, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 2</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> ab = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(ab, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 2</span></code></pre>
<p class="">如果 <code>arrayBuffer</code> 不是 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow"><code>SharedArrayBuffer</code></a> 或其他适用于 <code>Buffer.from()</code> 变体的类型，则将抛出 <code>TypeError</code>。</p>
<p class="">记住，支持 <code>ArrayBuffer</code> 可以覆盖超出 <code>TypedArray</code> 视图边界的内存范围。
使用 <code>TypedArray</code> 的 <code>buffer</code> 属性创建的新 <code>Buffer</code> 可能会超出 <code>TypedArray</code> 的范围：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> arrA = <span class="hljs-title class_">Uint8Array</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x63</span>, <span class="hljs-number">0x64</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x66</span>]); <span class="hljs-comment">// 4 个元素</span>
<span class="hljs-keyword">const</span> arrB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrA.<span class="hljs-property">buffer</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// 2 个元素</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrA.<span class="hljs-property">buffer</span> === arrB.<span class="hljs-property">buffer</span>); <span class="hljs-comment">// true</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arrB.<span class="hljs-property">buffer</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 63 64 65 66&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> arrA = <span class="hljs-title class_">Uint8Array</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x63</span>, <span class="hljs-number">0x64</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0x66</span>]); <span class="hljs-comment">// 4 个元素</span>
<span class="hljs-keyword">const</span> arrB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(arrA.<span class="hljs-property">buffer</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// 2 个元素</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrA.<span class="hljs-property">buffer</span> === arrB.<span class="hljs-property">buffer</span>); <span class="hljs-comment">// true</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arrB.<span class="hljs-property">buffer</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 63 64 65 66&gt;</span></code></pre>
<h4><code>Buffer.from(buffer)</code><span><a class="mark" href="#static-method-bufferfrombuffer" id="static-method-bufferfrombuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_from_buffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferfrombuffer">
                <a href="buffer/static_method_buffer_from_buffer.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li><code>buffer</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> 要从中复制数据的现有 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</li>
</ul>
<p>将传入的 <code>buffer</code> 数据复制到新的 <code>Buffer</code> 实例上。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(buf1);

buf1[<span class="hljs-number">0</span>] = <span class="hljs-number">0x61</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: auffer</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffer</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(buf1);

buf1[<span class="hljs-number">0</span>] = <span class="hljs-number">0x61</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: auffer</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffer</span></code></pre>
<p class="">如果 <code>buffer</code> 不是 <code>Buffer</code> 或其他适用于 <code>Buffer.from()</code> 变体的类型，则将抛出 <code>TypeError</code>。</p>
<h4><code>Buffer.from(object[, offsetOrEncoding[, length]])</code><span><a class="mark" href="#static-method-bufferfromobject-offsetorencoding-length" id="static-method-bufferfromobject-offsetorencoding-length">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_from_object_offsetorencoding_length"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferfromobject-offsetorencoding-length">
                <a href="buffer/static_method_buffer_from_object_offsetorencoding_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v8.2.0</span>
</div>
<ul class="">
<li><code>object</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="nofollow" class="type">&lt;Object&gt;</a> 支持 <code>Symbol.toPrimitive</code> 或 <code>valueOf()</code> 的对象。</li>
<li><code>offsetOrEncoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 字节偏移量或编码。</li>
<li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 长度。</li>
</ul>
<p>对于 <code>valueOf()</code> 函数返回的值不严格等于 <code>object</code> 的对象，则返回 <code>Buffer.from(object.valueOf(), offsetOrEncoding, length)</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">'this is a test'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">'this is a test'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span></code></pre>
<p class="">对于支持 <code>Symbol.toPrimitive</code> 的对象，则返回 <code>Buffer.from(object[Symbol.toPrimitive]('string'), offsetOrEncoding)</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">toPrimitive</span>]() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'this is a test'</span>;
  }
}

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(), <span class="hljs-string">'utf8'</span>);
<span class="hljs-comment">// 打印: &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">toPrimitive</span>]() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'this is a test'</span>;
  }
}

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(), <span class="hljs-string">'utf8'</span>);
<span class="hljs-comment">// 打印: &lt;Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74&gt;</span></code></pre>
<p class="">如果 <code>object</code> 没有提到的方法或不是适合 <code>Buffer.from()</code> 变体的另一种类型，则将抛出 <code>TypeError</code>。</p>
<h4><code>Buffer.from(string[, encoding])</code><span><a class="mark" href="#static-method-bufferfromstring-encoding" id="static-method-bufferfromstring-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_from_string_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferfromstring-encoding">
                <a href="buffer/static_method_buffer_from_string_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 要编码的字符串。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> <code>string</code> 的编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
</ul>
<p>创建包含 <code>string</code> 的新 <code>Buffer</code>。
<code>encoding</code> 参数标识将 <code>string</code> 转换为字节时要使用的字符编码。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a tést'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'7468697320697320612074c3a97374'</span>, <span class="hljs-string">'hex'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: this is a tést</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: this is a tést</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'latin1'</span>));
<span class="hljs-comment">// 打印: this is a tÃ©st</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a tést'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'7468697320697320612074c3a97374'</span>, <span class="hljs-string">'hex'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: this is a tést</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: this is a tést</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'latin1'</span>));
<span class="hljs-comment">// 打印: this is a tÃ©st</span></code></pre>
<p class="">如果 <code>string</code> 不是字符串或其他适用于 <code>Buffer.from()</code> 变体的类型，则将抛出 <code>TypeError</code>。</p>
<h4><code>Buffer.isBuffer(obj)</code><span><a class="mark" href="#static-method-bufferisbufferobj" id="static-method-bufferisbufferobj">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_isbuffer_obj"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferisbufferobj">
                <a href="buffer/static_method_buffer_isbuffer_obj.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.1.101</span>
</div>
<ul class="">
<li><code>obj</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="nofollow" class="type">&lt;Object&gt;</a></li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" rel="nofollow" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>如果 <code>obj</code> 是 <code>Buffer</code>，则返回 <code>true</code>，否则返回 <code>false</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'foo'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-string">'a string'</span>); <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>([]); <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">1024</span>)); <span class="hljs-comment">// false</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'foo'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-string">'a string'</span>); <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>([]); <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isBuffer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">1024</span>)); <span class="hljs-comment">// false</span></code></pre>
<h4><code>Buffer.isEncoding(encoding)</code><span><a class="mark" href="#static-method-bufferisencodingencoding" id="static-method-bufferisencodingencoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_static_method_buffer_isencoding_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#static-method-bufferisencodingencoding">
                <a href="buffer/static_method_buffer_isencoding_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.9.1</span>
</div>
<ul class="">
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 要检查的字符编码名称。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" rel="nofollow" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>如果 <code>encoding</code> 是支持的字符编码的名称，则返回 <code>true</code>，否则返回 <code>false</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'utf/8'</span>));
<span class="hljs-comment">// 打印: false</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">''</span>));
<span class="hljs-comment">// 打印: false</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">'utf/8'</span>));
<span class="hljs-comment">// 打印: false</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">isEncoding</span>(<span class="hljs-string">''</span>));
<span class="hljs-comment">// 打印: false</span></code></pre>
<h4><code>Buffer.poolSize</code><span><a class="mark" href="#class-property-bufferpoolsize" id="class-property-bufferpoolsize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_class_property_buffer_poolsize"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#class-property-bufferpoolsize">
                <a href="buffer/class_property_buffer_poolsize.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.11.3</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <strong>默认值:</strong> <code>8192</code></li>
</ul>
<p>这是用于池的预分配内部 <code>Buffer</code> 实例的大小（以字节为单位）。
该值可以修改。</p>
<h4><code>buf[index]</code><span><a class="mark" href="#bufindex" id="bufindex">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_index"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufindex">
                <a href="buffer/buf_index.html" class="tip_trans">中英对照</a>
                </p>
<ul class="">
<li><code>index</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>索引运算符 <code>[index]</code> 可用于获取和设置 <code>buf</code> 中位置 <code>index</code> 处的八位字节。
这些值是指单个字节，因此合法值范围介于 <code>0x00</code> 和 <code>0xFF</code>（十六进制）或 <code>0</code> 和 <code>255</code>（十进制）之间。</p>
<p class="">该运算符继承自 <code>Uint8Array</code>，因此其越界访问行为与 <code>Uint8Array</code> 相同。
换句话说，当 <code>index</code> 为负或大于等于 <code>buf.length</code> 时，<code>buf[index]</code> 返回 <code>undefined</code>，如果 <code>index</code> 为负或 <code>&gt;= buf.length</code>，<code>buf[index] = value</code> 不修改缓冲区。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 每次一个字节地将 ASCII 字符串复制到 `Buffer` 中。</span>
<span class="hljs-comment">// （这仅适用于 ASCII-only 字符串。通常，应该使用 `Buffer.from()` 来执行此转换。）</span>

<span class="hljs-keyword">const</span> str = <span class="hljs-string">'Node.js'</span>;
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(str.<span class="hljs-property">length</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-property">length</span>; i++) {
  buf[i] = str.<span class="hljs-title function_">charCodeAt</span>(i);
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: Node.js</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 每次一个字节地将 ASCII 字符串复制到 `Buffer` 中。</span>
<span class="hljs-comment">// （这仅适用于 ASCII-only 字符串。通常，应该使用 `Buffer.from()` 来执行此转换。）</span>

<span class="hljs-keyword">const</span> str = <span class="hljs-string">'Node.js'</span>;
<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(str.<span class="hljs-property">length</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-property">length</span>; i++) {
  buf[i] = str.<span class="hljs-title function_">charCodeAt</span>(i);
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: Node.js</span></code></pre>
<h4><code>buf.buffer</code><span><a class="mark" href="#bufbuffer" id="bufbuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_buffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufbuffer">
                <a href="buffer/buf_buffer.html" class="tip_trans">中英对照</a>
                </p>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a> 创建此 <code>Buffer</code> 对象所基于的底层 <code>ArrayBuffer</code> 对象。</li>
</ul>
<p>不保证此 <code>ArrayBuffer</code> 与原始 <code>Buffer</code> 完全对应。
有关详细信息，请参阅 <code>buf.byteOffset</code> 上的说明。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">16</span>);
<span class="hljs-keyword">const</span> buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arrayBuffer);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffer.<span class="hljs-property">buffer</span> === arrayBuffer);
<span class="hljs-comment">// 打印: true</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> arrayBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">16</span>);
<span class="hljs-keyword">const</span> buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(arrayBuffer);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffer.<span class="hljs-property">buffer</span> === arrayBuffer);
<span class="hljs-comment">// 打印: true</span></code></pre>
<h4><code>buf.byteOffset</code><span><a class="mark" href="#bufbyteoffset" id="bufbyteoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_byteoffset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufbyteoffset">
                <a href="buffer/buf_byteoffset.html" class="tip_trans">中英对照</a>
                </p>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>Buffer</code> 底层 <code>ArrayBuffer</code> 对象的 <code>byteOffset</code>。</li>
</ul>
<p>当在 <code>Buffer.from(ArrayBuffer, byteOffset, length)</code> 中设置 <code>byteOffset</code> 时，或者有时在分配小于 <code>Buffer.poolSize</code> 的 <code>Buffer</code> 时，缓冲区不会从底层 <code>ArrayBuffer</code> 上的零偏移量开始。</p>
<p class="">这在使用 <code>buf.buffer</code> 直接访问底层 <code>ArrayBuffer</code> 时可能会导致问题，因为 <code>ArrayBuffer</code> 的其他部分可能与 <code>Buffer</code> 对象本身无关。</p>
<p class="">创建与 <code>Buffer</code> 共享内存的 <code>TypedArray</code> 对象时的常见问题是，在这种情况下，需要正确指定 <code>byteOffset</code>：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建小于 `Buffer.poolSize` 的缓冲区。</span>
<span class="hljs-keyword">const</span> nodeBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);

<span class="hljs-comment">// 当将 Node.js 缓冲区转换为 Int8Array 时，</span>
<span class="hljs-comment">// 使用 byteOffset 仅引用包含 `nodeBuffer` 内存的 `nodeBuffer.buffer` 部分。</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Int8Array</span>(nodeBuffer.<span class="hljs-property">buffer</span>, nodeBuffer.<span class="hljs-property">byteOffset</span>, nodeBuffer.<span class="hljs-property">length</span>);</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建小于 `Buffer.poolSize` 的缓冲区。</span>
<span class="hljs-keyword">const</span> nodeBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);

<span class="hljs-comment">// 当将 Node.js 缓冲区转换为 Int8Array 时，</span>
<span class="hljs-comment">// 使用 byteOffset 仅引用包含 `nodeBuffer` 内存的 `nodeBuffer.buffer` 部分。</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Int8Array</span>(nodeBuffer.<span class="hljs-property">buffer</span>, nodeBuffer.<span class="hljs-property">byteOffset</span>, nodeBuffer.<span class="hljs-property">length</span>);</code></pre>
<h4><code>buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</code><span><a class="mark" href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend" id="bufcomparetarget-targetstart-targetend-sourcestart-sourceend">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_compare_target_targetstart_targetend_sourcestart_sourceend"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend">
                <a href="buffer/buf_compare_target_targetstart_targetend_sourcestart_sourceend.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p>参数 <code>target</code> 现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v5.11.0</td>
<td><p>现在支持用于指定偏移量的额外参数。</p></td></tr>
<tr><td>v0.11.13</td>
<td><p><span>新增于: v0.11.13</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>target</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> 用于比较 <code>buf</code> 的 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</li>
<li><code>targetStart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>target</code> 内开始比较的偏移量。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>targetEnd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>target</code> 中结束比较（不包括）的偏移量。 <strong>默认值:</strong> <code>target.length</code>。</li>
<li><code>sourceStart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 内开始比较的偏移量。
<strong>默认值:</strong> <code>0</code>。</li>
<li><code>sourceEnd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 中结束比较（不包括）的偏移量。 <strong>默认值:</strong> <a href="#buflength"><code>buf.length</code></a>.</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>将 <code>buf</code> 与 <code>target</code> 进行比较并返回数字，该数字指示 <code>buf</code> 在排序顺序中是在 <code>target</code> 之前、之后还是与 <code>target</code> 相同。
比较基于每个 <code>Buffer</code> 中的实际字节序列。</p>
<ul class="">
<li>如果 <code>target</code> 与 <code>buf</code> 相同，则返回 <code>0</code></li>
<li>如果排序时 <code>target</code> 应该在 <code>buf</code> 之前，则返回 <code>1</code>。</li>
<li>如果排序时 <code>target</code> 应该在 <code>buf</code> 之后，则返回 <code>-1</code>。</li>
</ul>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABC'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'BCD'</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABCD'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf1));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf3));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">compare</span>(buf1));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">compare</span>(buf3));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([buf1, buf2, buf3].<span class="hljs-title function_">sort</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-property">compare</span>));
<span class="hljs-comment">// 打印: [ &lt;Buffer 41 42 43&gt;, &lt;Buffer 41 42 43 44&gt;, &lt;Buffer 42 43 44&gt; ]</span>
<span class="hljs-comment">// （此结果相当于：[buf1, buf3, buf2]。）</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABC'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'BCD'</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABCD'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf1));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf3));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">compare</span>(buf1));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">compare</span>(buf3));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([buf1, buf2, buf3].<span class="hljs-title function_">sort</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-property">compare</span>));
<span class="hljs-comment">// 打印: [ &lt;Buffer 41 42 43&gt;, &lt;Buffer 41 42 43 44&gt;, &lt;Buffer 42 43 44&gt; ]</span>
<span class="hljs-comment">// （此结果相当于：[buf1, buf3, buf2]。）</span></code></pre>
<p class="">可选的 <code>targetStart</code>、<code>targetEnd</code>、<code>sourceStart</code> 和 <code>sourceEnd</code> 参数可用于分别将比较限制在 <code>target</code> 和 <code>buf</code> 内的特定范围内。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: 1</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">compare</span>(buf2, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: 1</span></code></pre>
<p class="">如果 <code>targetStart &lt; 0</code>、<code>sourceStart &lt; 0</code>、<code>targetEnd &gt; target.byteLength</code> 或 <code>sourceEnd &gt; source.byteLength</code>，则抛出 <a href="errors.html#err_out_of_range"><code>ERR_OUT_OF_RANGE</code></a>。</p>
<h4><code>buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])</code><span><a class="mark" href="#bufcopytarget-targetstart-sourcestart-sourceend" id="bufcopytarget-targetstart-sourcestart-sourceend">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_copy_target_targetstart_sourcestart_sourceend"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufcopytarget-targetstart-sourcestart-sourceend">
                <a href="buffer/buf_copy_target_targetstart_sourcestart_sourceend.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.1.90</span>
</div>
<ul class="">
<li><code>target</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> 要复制到的 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</li>
<li><code>targetStart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>target</code> 内开始写入的偏移量。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>sourceStart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 内开始复制的偏移量。
<strong>默认值:</strong> <code>0</code>。</li>
<li><code>sourceEnd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 内停止复制的偏移量（不包括）。 <strong>默认值:</strong> <a href="#buflength"><code>buf.length</code></a>.</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 复制的字节数。</li>
</ul>
<p>将数据从 <code>buf</code> 的区域复制到 <code>target</code> 的区域，即使 <code>target</code> 内存区域与 <code>buf</code> 重叠。</p>
<p class=""><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/set" rel="nofollow"><code>TypedArray.prototype.set()</code></a> 执行相同的操作，可用于所有 TypedArray，包括 Node.js <code>Buffer</code>，尽管它采用不同的函数参数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建两个 `Buffer` 实例。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'!'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-comment">// 将 `buf1` 字节 16 到 19 复制到 `buf2` 中，从 `buf2` 的字节 8 开始。</span>
buf1.<span class="hljs-title function_">copy</span>(buf2, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">20</span>);
<span class="hljs-comment">// 这相当于：</span>
<span class="hljs-comment">// buf2.set(buf1.subarray(16, 20), 8);</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">25</span>));
<span class="hljs-comment">// 打印: !!!!!!!!qrst!!!!!!!!!!!!!</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建两个 `Buffer` 实例。</span>
<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'!'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-comment">// 将 `buf1` 字节 16 到 19 复制到 `buf2` 中，从 `buf2` 的字节 8 开始。</span>
buf1.<span class="hljs-title function_">copy</span>(buf2, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">20</span>);
<span class="hljs-comment">// 这相当于：</span>
<span class="hljs-comment">// buf2.set(buf1.subarray(16, 20), 8);</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">25</span>));
<span class="hljs-comment">// 打印: !!!!!!!!qrst!!!!!!!!!!!!!</span></code></pre>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建 `Buffer` 并将数据从一个区域复制到同一 `Buffer` 内的重叠区域。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf[i] = i + <span class="hljs-number">97</span>;
}

buf.<span class="hljs-title function_">copy</span>(buf, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: efghijghijklmnopqrstuvwxyz</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建 `Buffer` 并将数据从一个区域复制到同一 `Buffer` 内的重叠区域。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf[i] = i + <span class="hljs-number">97</span>;
}

buf.<span class="hljs-title function_">copy</span>(buf, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: efghijghijklmnopqrstuvwxyz</span></code></pre>
<h4><code>buf.entries()</code><span><a class="mark" href="#bufentries" id="bufentries">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_entries"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufentries">
                <a href="buffer/buf_entries.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v1.1.0</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol" rel="nofollow" class="type">&lt;Iterator&gt;</a></li>
</ul>
<p>从 <code>buf</code> 的内容创建并返回 <code>[index, byte]</code> 对的<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" rel="nofollow">迭代器</a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 记录 `Buffer` 的全部内容。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> pair <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">entries</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pair);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   [0, 98]</span>
<span class="hljs-comment">//   [1, 117]</span>
<span class="hljs-comment">//   [2, 102]</span>
<span class="hljs-comment">//   [3, 102]</span>
<span class="hljs-comment">//   [4, 101]</span>
<span class="hljs-comment">//   [5, 114]</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 记录 `Buffer` 的全部内容。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> pair <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">entries</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pair);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   [0, 98]</span>
<span class="hljs-comment">//   [1, 117]</span>
<span class="hljs-comment">//   [2, 102]</span>
<span class="hljs-comment">//   [3, 102]</span>
<span class="hljs-comment">//   [4, 101]</span>
<span class="hljs-comment">//   [5, 114]</span></code></pre>
<h4><code>buf.equals(otherBuffer)</code><span><a class="mark" href="#bufequalsotherbuffer" id="bufequalsotherbuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_equals_otherbuffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufequalsotherbuffer">
                <a href="buffer/buf_equals_otherbuffer.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p>参数现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v0.11.13</td>
<td><p><span>新增于: v0.11.13</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>otherBuffer</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> 用于比较 <code>buf</code> 的 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" rel="nofollow" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>如果 <code>buf</code> 和 <code>otherBuffer</code> 具有完全相同的字节，则返回 <code>true</code>，否则返回 <code>false</code>。
相当于 <a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend"><code>buf.compare(otherBuffer) === 0</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABC'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'414243'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABCD'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">equals</span>(buf2));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">equals</span>(buf3));
<span class="hljs-comment">// 打印: false</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABC'</span>);
<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'414243'</span>, <span class="hljs-string">'hex'</span>);
<span class="hljs-keyword">const</span> buf3 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'ABCD'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">equals</span>(buf2));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">equals</span>(buf3));
<span class="hljs-comment">// 打印: false</span></code></pre>
<h4><code>buf.fill(value[, offset[, end]][, encoding])</code><span><a class="mark" href="#buffillvalue-offset-end-encoding" id="buffillvalue-offset-end-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_fill_value_offset_end_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buffillvalue-offset-end-encoding">
                <a href="buffer/buf_fill_value_offset_end_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v11.0.0</td>
<td><p>抛出 <code>ERR_OUT_OF_RANGE</code> 而不是 <code>ERR_INDEX_OUT_OF_RANGE</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>负的 <code>end</code> 值会抛出 <code>ERR_INDEX_OUT_OF_RANGE</code> 错误。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>尝试使用零长度缓冲区填充非零长度缓冲区，则会触发抛出异常。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>为 <code>value</code> 指定无效字符串，则会触发抛出异常。</p></td></tr>
<tr><td>v5.7.0</td>
<td><p>现在支持 <code>encoding</code> 参数。</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>新增于: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 用于填充 <code>buf</code> 的值。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 在开始填充 <code>buf</code> 之前要跳过的字节数。
<strong>默认值:</strong> <code>0</code>。</li>
<li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 停止填充 <code>buf</code>（不包括在内）的位置。 <strong>默认值:</strong>
<a href="#buflength"><code>buf.length</code></a>.</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>value</code> 是字符串，则为 <code>value</code> 的编码。
<strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> <code>buf</code> 的引用。</li>
</ul>
<p>用指定的 <code>value</code> 填充 <code>buf</code>。
如果没有给定 <code>offset</code> 和 <code>end</code>，则整个 <code>buf</code> 都会被填满：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 用 ASCII 字符 'h' 填充 `Buffer`。</span>

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'h'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 用 ASCII 字符 'h' 填充 `Buffer`。</span>

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">50</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'h'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh</span></code></pre>
<p class="">如果 <code>value</code> 不是字符串、<code>Buffer</code> 或整数，则将其强制为 <code>uint32</code> 值。
如果结果整数大于 <code>255</code>（十进制），则 <code>buf</code> 将填充 <code>value &amp; 255</code>。</p>
<p class="">如果 <code>fill()</code> 操作的最终写入落在多字节字符上，则仅写入适合 <code>buf</code> 的该字符的字节：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 用在 UTF-8 中占用两个字节的字符填充 `Buffer`。</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'\u0222'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer c8 a2 c8 a2 c8&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 用在 UTF-8 中占用两个字节的字符填充 `Buffer`。</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">5</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'\u0222'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer c8 a2 c8 a2 c8&gt;</span></code></pre>
<p class="">如果 <code>value</code> 包含无效字符，则截断；如果没有有效的填充数据，则抛出异常：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">5</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'a'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 61 61 61 61 61&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'aazz'</span>, <span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer aa aa aa aa aa&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'zz'</span>, <span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 抛出异常。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">5</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'a'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer 61 61 61 61 61&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'aazz'</span>, <span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: &lt;Buffer aa aa aa aa aa&gt;</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">fill</span>(<span class="hljs-string">'zz'</span>, <span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 抛出异常。</span></code></pre>
<h4><code>buf.includes(value[, byteOffset][, encoding])</code><span><a class="mark" href="#bufincludesvalue-byteoffset-encoding" id="bufincludesvalue-byteoffset-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_includes_value_byteoffset_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufincludesvalue-byteoffset-encoding">
                <a href="buffer/buf_includes_value_byteoffset_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.3.0</span>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要搜索的内容。</li>
<li><code>byteOffset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始搜索 <code>buf</code> 的位置。
如果为负数，则从 <code>buf</code> 的末尾开始计算偏移量。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>value</code> 是字符串，则这就是它的编码。
<strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" rel="nofollow" class="type">&lt;boolean&gt;</a> 如果在 <code>buf</code> 中找到 <code>value</code>，则为 <code>true</code>，否则为 <code>false</code>。</li>
</ul>
<p>相当于 <a href="#bufindexofvalue-byteoffset-encoding"><code>buf.indexOf() !== -1</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'is'</span>));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer'</span>)));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: true （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>)));
<span class="hljs-comment">// 打印: false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>)));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'this'</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: false</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'is'</span>));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer'</span>)));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: true （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>)));
<span class="hljs-comment">// 打印: false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>)));
<span class="hljs-comment">// 打印: true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'this'</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: false</span></code></pre>
<h4><code>buf.indexOf(value[, byteOffset][, encoding])</code><span><a class="mark" href="#bufindexofvalue-byteoffset-encoding" id="bufindexofvalue-byteoffset-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_indexof_value_byteoffset_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufindexofvalue-byteoffset-encoding">
                <a href="buffer/buf_indexof_value_byteoffset_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p><code>value</code> 现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v5.7.0, v4.4.0</td>
<td><p>当传入 <code>encoding</code> 时，不再需要 <code>byteOffset</code> 参数。</p></td></tr>
<tr><td>v1.5.0</td>
<td><p><span>新增于: v1.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要搜索的内容。</li>
<li><code>byteOffset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始搜索 <code>buf</code> 的位置。
如果为负数，则从 <code>buf</code> 的末尾开始计算偏移量。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>value</code> 是字符串，则这是用于确定将在 <code>buf</code> 中搜索的字符串的二进制表示的编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 中第一次出现 <code>value</code> 的索引，如果 <code>buf</code> 不包含 <code>value</code>，则为 <code>-1</code>。</li>
</ul>
<p>如果 <code>value</code> 是：</p>
<ul class="">
<li>字符串，<code>value</code> 根据 <code>encoding</code> 中的字符编码进行解释。</li>
<li><code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>, <code>value</code> 将全部使用。
要比较部分 <code>Buffer</code>，则使用 <a href="#bufsubarraystart-end"><code>buf.subarray</code></a>。</li>
<li>数字，<code>value</code> 将被解释为 <code>0</code> 和 <code>255</code> 之间的无符号 8 位整数值。</li>
</ul>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'is'</span>));
<span class="hljs-comment">// 打印: 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer'</span>)));
<span class="hljs-comment">// 打印: 8</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: 8 （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>)));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>)));
<span class="hljs-comment">// 打印: 8</span>

<span class="hljs-keyword">const</span> utf16Buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'\u039a\u0391\u03a3\u03a3\u0395'</span>, <span class="hljs-string">'utf16le'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'\u03a3'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'\u03a3'</span>, -<span class="hljs-number">4</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 6</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'is'</span>));
<span class="hljs-comment">// 打印: 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer'</span>)));
<span class="hljs-comment">// 打印: 8</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: 8 （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>)));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">indexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'a buffer example'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>)));
<span class="hljs-comment">// 打印: 8</span>

<span class="hljs-keyword">const</span> utf16Buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'\u039a\u0391\u03a3\u03a3\u0395'</span>, <span class="hljs-string">'utf16le'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'\u03a3'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'\u03a3'</span>, -<span class="hljs-number">4</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 6</span></code></pre>
<p class="">如果 <code>value</code> 不是字符串、数字或 <code>Buffer</code>，则此方法将抛出 <code>TypeError</code>。
如果 <code>value</code> 是数字，则它将被强制转换为有效的字节值（0 到 255 之间的整数）。</p>
<p class="">如果 <code>byteOffset</code> 不是数字，则会被强制为数字。
如果强制转换的结果是 <code>NaN</code> 或 <code>0</code>，则将搜索整个缓冲区。
此行为与 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" rel="nofollow"><code>String.prototype.indexOf()</code></a> 匹配。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'abcdef'</span>);

<span class="hljs-comment">// 传入数字值，但不是有效字节。</span>
<span class="hljs-comment">// 打印: 2, 相当于搜索 99 或 'c'。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">99.9</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">256</span> + <span class="hljs-number">99</span>));

<span class="hljs-comment">// 传入强制为 NaN 或 0 的 byteOffset。</span>
<span class="hljs-comment">// 打印: 1, 搜索整个缓冲区。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">undefined</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, {}));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">null</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, []));</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'abcdef'</span>);

<span class="hljs-comment">// 传入数字值，但不是有效字节。</span>
<span class="hljs-comment">// 打印: 2, 相当于搜索 99 或 'c'。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">99.9</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">256</span> + <span class="hljs-number">99</span>));

<span class="hljs-comment">// 传入强制为 NaN 或 0 的 byteOffset。</span>
<span class="hljs-comment">// 打印: 1, 搜索整个缓冲区。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">undefined</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, {}));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">null</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'b'</span>, []));</code></pre>
<p class="">如果 <code>value</code> 为空字符串或空 <code>Buffer</code> 且 <code>byteOffset</code> 小于 <code>buf.length</code>，则返回 <code>byteOffset</code>。
如果 <code>value</code> 为空且 <code>byteOffset</code> 至少为 <code>buf.length</code>，则返回 <code>buf.length</code>。</p>
<h4><code>buf.keys()</code><span><a class="mark" href="#bufkeys" id="bufkeys">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_keys"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufkeys">
                <a href="buffer/buf_keys.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v1.1.0</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol" rel="nofollow" class="type">&lt;Iterator&gt;</a></li>
</ul>
<p>创建并返回 <code>buf</code> 个键（索引）的<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" rel="nofollow">迭代器</a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">keys</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   0</span>
<span class="hljs-comment">//   1</span>
<span class="hljs-comment">//   2</span>
<span class="hljs-comment">//   3</span>
<span class="hljs-comment">//   4</span>
<span class="hljs-comment">//   5</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">keys</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   0</span>
<span class="hljs-comment">//   1</span>
<span class="hljs-comment">//   2</span>
<span class="hljs-comment">//   3</span>
<span class="hljs-comment">//   4</span>
<span class="hljs-comment">//   5</span></code></pre>
<h4><code>buf.lastIndexOf(value[, byteOffset][, encoding])</code><span><a class="mark" href="#buflastindexofvalue-byteoffset-encoding" id="buflastindexofvalue-byteoffset-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_lastindexof_value_byteoffset_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buflastindexofvalue-byteoffset-encoding">
                <a href="buffer/buf_lastindexof_value_byteoffset_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p><code>value</code> 现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>新增于: v6.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要搜索的内容。</li>
<li><code>byteOffset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始搜索 <code>buf</code> 的位置。
如果为负数，则从 <code>buf</code> 的末尾开始计算偏移量。 <strong>默认值:</strong> <code>buf.length - 1</code>。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 如果 <code>value</code> 是字符串，则这是用于确定将在 <code>buf</code> 中搜索的字符串的二进制表示的编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>buf</code> 中最后一次出现 <code>value</code> 的索引，如果 <code>buf</code> 不包含 <code>value</code>，则为 <code>-1</code>。</li>
</ul>
<p>与 <a href="#bufindexofvalue-byteoffset-encoding"><code>buf.indexOf()</code></a> 相同，除了找到最后一次出现的 <code>value</code> 而不是第一次出现。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this buffer is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>));
<span class="hljs-comment">// 打印: 17</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>)));
<span class="hljs-comment">// 打印: 17</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: 15 （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'yolo'</span>)));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: 5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: -1</span>

<span class="hljs-keyword">const</span> utf16Buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'\u039a\u0391\u03a3\u03a3\u0395'</span>, <span class="hljs-string">'utf16le'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'\u03a3'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 6</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'\u03a3'</span>, -<span class="hljs-number">5</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 4</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'this buffer is a buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'this'</span>));
<span class="hljs-comment">// 打印: 0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>));
<span class="hljs-comment">// 打印: 17</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>)));
<span class="hljs-comment">// 打印: 17</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">97</span>));
<span class="hljs-comment">// 打印: 15 （97 是 'a' 的十进制 ASCII 值）</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'yolo'</span>)));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: 5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'buffer'</span>, <span class="hljs-number">4</span>));
<span class="hljs-comment">// 打印: -1</span>

<span class="hljs-keyword">const</span> utf16Buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'\u039a\u0391\u03a3\u03a3\u0395'</span>, <span class="hljs-string">'utf16le'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'\u03a3'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 6</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(utf16Buffer.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'\u03a3'</span>, -<span class="hljs-number">5</span>, <span class="hljs-string">'utf16le'</span>));
<span class="hljs-comment">// 打印: 4</span></code></pre>
<p class="">如果 <code>value</code> 不是字符串、数字或 <code>Buffer</code>，则此方法将抛出 <code>TypeError</code>。
如果 <code>value</code> 是数字，则它将被强制转换为有效的字节值（0 到 255 之间的整数）。</p>
<p class="">如果 <code>byteOffset</code> 不是数字，则会被强制为数字。
任何强制到 <code>NaN</code> 的参数，如 <code>{}</code> 或 <code>undefined</code>，都将搜索整个缓冲区。
此行为与 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf" rel="nofollow"><code>String.prototype.lastIndexOf()</code></a> 匹配。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'abcdef'</span>);

<span class="hljs-comment">// 传入数字值，但不是有效字节。</span>
<span class="hljs-comment">// 打印: 2, 相当于搜索 99 或 'c'。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">99.9</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">256</span> + <span class="hljs-number">99</span>));

<span class="hljs-comment">// 传入强制为 NaN 的 byteOffset。</span>
<span class="hljs-comment">// 打印: 1, 搜索整个缓冲区。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">undefined</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, {}));

<span class="hljs-comment">// 传递强制为 0 的 byteOffset。</span>
<span class="hljs-comment">// 打印: -1, 相当于传入 0。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">null</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, []));</code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> b = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'abcdef'</span>);

<span class="hljs-comment">// 传入数字值，但不是有效字节。</span>
<span class="hljs-comment">// 打印: 2, 相当于搜索 99 或 'c'。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">99.9</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">256</span> + <span class="hljs-number">99</span>));

<span class="hljs-comment">// 传入强制为 NaN 的 byteOffset。</span>
<span class="hljs-comment">// 打印: 1, 搜索整个缓冲区。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">undefined</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, {}));

<span class="hljs-comment">// 传递强制为 0 的 byteOffset。</span>
<span class="hljs-comment">// 打印: -1, 相当于传入 0。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, <span class="hljs-literal">null</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-string">'b'</span>, []));</code></pre>
<p class="">如果 <code>value</code> 为空字符串或空 <code>Buffer</code>，则返回 <code>byteOffset</code>。</p>
<h4><code>buf.length</code><span><a class="mark" href="#buflength" id="buflength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_length"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buflength">
                <a href="buffer/buf_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.1.90</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>返回 <code>buf</code> 中的字节数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 创建 `Buffer` 并使用 UTF-8 向其写入一个较短的字符串。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">1234</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 1234</span>

buf.<span class="hljs-title function_">write</span>(<span class="hljs-string">'some string'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'utf8'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 1234</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 创建 `Buffer` 并使用 UTF-8 向其写入一个较短的字符串。</span>

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">1234</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 1234</span>

buf.<span class="hljs-title function_">write</span>(<span class="hljs-string">'some string'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'utf8'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-property">length</span>);
<span class="hljs-comment">// 打印: 1234</span></code></pre>
<h4><code>buf.parent</code><span><a class="mark" href="#bufparent" id="bufparent">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_parent"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufparent">
                <a href="buffer/buf_parent.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>弃用于: v8.0.0</span>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#bufbuffer"><code>buf.buffer</code></a> 。</div><p></p>
<p><code>buf.parent</code> 属性是 <code>buf.buffer</code> 的弃用别名。</p>
<h4><code>buf.readBigInt64BE([offset])</code><span><a class="mark" href="#bufreadbigint64beoffset" id="bufreadbigint64beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readbigint64be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadbigint64beoffset">
                <a href="buffer/buf_readbigint64be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v12.0.0, v10.20.0</span>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的大端序 64 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>
<h4><code>buf.readBigInt64LE([offset])</code><span><a class="mark" href="#bufreadbigint64leoffset" id="bufreadbigint64leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readbigint64le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadbigint64leoffset">
                <a href="buffer/buf_readbigint64le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v12.0.0, v10.20.0</span>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的小端序 64 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>
<h4><code>buf.readBigUInt64BE([offset])</code><span><a class="mark" href="#bufreadbiguint64beoffset" id="bufreadbiguint64beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readbiguint64be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadbiguint64beoffset">
                <a href="buffer/buf_readbiguint64be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.10.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readBigUint64BE()</code>。</p></td></tr>
<tr><td>v12.0.0, v10.20.0</td>
<td><p><span>新增于: v12.0.0, v10.20.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的大端序 64 位整数。</p>
<p class="">此函数也可在 <code>readBigUint64BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readBigUInt64BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 4294967295n</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readBigUInt64BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 4294967295n</span></code></pre>
<h4><code>buf.readBigUInt64LE([offset])</code><span><a class="mark" href="#bufreadbiguint64leoffset" id="bufreadbiguint64leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readbiguint64le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadbiguint64leoffset">
                <a href="buffer/buf_readbiguint64le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.10.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readBigUint64LE()</code>。</p></td></tr>
<tr><td>v12.0.0, v10.20.0</td>
<td><p><span>新增于: v12.0.0, v10.20.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的小端序 64 位整数。</p>
<p class="">此函数也可在 <code>readBigUint64LE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readBigUInt64LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 18446744069414584320n</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>, <span class="hljs-number">0xff</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readBigUInt64LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 18446744069414584320n</span></code></pre>
<h4><code>buf.readDoubleBE([offset])</code><span><a class="mark" href="#bufreaddoublebeoffset" id="bufreaddoublebeoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readdoublebe_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaddoublebeoffset">
                <a href="buffer/buf_readdoublebe_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a></li>
</ul>
<p>从指定 <code>offset</code> 处的 <code>buf</code> 读取 64 位大端序双精度值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleBE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 8.20788039913184e-304</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleBE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 8.20788039913184e-304</span></code></pre>
<h4><code>buf.readDoubleLE([offset])</code><span><a class="mark" href="#bufreaddoubleleoffset" id="bufreaddoubleleoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readdoublele_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaddoubleleoffset">
                <a href="buffer/buf_readdoublele_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a></li>
</ul>
<p>从指定 <code>offset</code> 处的 <code>buf</code> 读取 64 位小端序双精度值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleLE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5.447603722011605e-270</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleLE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleLE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5.447603722011605e-270</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readDoubleLE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readFloatBE([offset])</code><span><a class="mark" href="#bufreadfloatbeoffset" id="bufreadfloatbeoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readfloatbe_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadfloatbeoffset">
                <a href="buffer/buf_readfloatbe_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a></li>
</ul>
<p>从指定 <code>offset</code> 处的 <code>buf</code> 读取 32 位大端序浮点数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatBE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 2.387939260590663e-38</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatBE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 2.387939260590663e-38</span></code></pre>
<h4><code>buf.readFloatLE([offset])</code><span><a class="mark" href="#bufreadfloatleoffset" id="bufreadfloatleoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readfloatle_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadfloatleoffset">
                <a href="buffer/buf_readfloatle_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a></li>
</ul>
<p>从指定 <code>offset</code> 处的 <code>buf</code> 读取 32 位小端序浮点数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatLE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1.539989614439558e-36</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatLE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatLE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1.539989614439558e-36</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readFloatLE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readInt8([offset])</code><span><a class="mark" href="#bufreadint8offset" id="bufreadint8offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readint8_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadint8offset">
                <a href="buffer/buf_readint8_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>新增于: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 1</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的 8 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([-<span class="hljs-number">1</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 打印: 5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">2</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([-<span class="hljs-number">1</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: -1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 打印: 5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt8</span>(<span class="hljs-number">2</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readInt16BE([offset])</code><span><a class="mark" href="#bufreadint16beoffset" id="bufreadint16beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readint16be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadint16beoffset">
                <a href="buffer/buf_readint16be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的大端序 16 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5</span></code></pre>
<h4><code>buf.readInt16LE([offset])</code><span><a class="mark" href="#bufreadint16leoffset" id="bufreadint16leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readint16le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadint16leoffset">
                <a href="buffer/buf_readint16le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的小端序 16 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1280</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16LE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1280</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt16LE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readInt32BE([offset])</code><span><a class="mark" href="#bufreadint32beoffset" id="bufreadint32beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readint32be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadint32beoffset">
                <a href="buffer/buf_readint32be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的大端序 32 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32BE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 5</span></code></pre>
<h4><code>buf.readInt32LE([offset])</code><span><a class="mark" href="#bufreadint32leoffset" id="bufreadint32leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readint32le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadint32leoffset">
                <a href="buffer/buf_readint32le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取有符号的小端序 32 位整数。</p>
<p class="">从 <code>Buffer</code> 读取的整数被解释为二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 83886080</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32LE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32LE</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 83886080</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readInt32LE</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readIntBE(offset, byteLength)</code><span><a class="mark" href="#bufreadintbeoffset-bytelength" id="bufreadintbeoffset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readintbe_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadintbeoffset-bytelength">
                <a href="buffer/buf_readintbe_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要读取的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取 <code>byteLength</code> 个字节，并将结果解释为支持最高 48 位精度的大端序、二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234567890ab</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234567890ab</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readIntLE(offset, byteLength)</code><span><a class="mark" href="#bufreadintleoffset-bytelength" id="bufreadintleoffset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readintle_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreadintleoffset-bytelength">
                <a href="buffer/buf_readintle_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要读取的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取 <code>byteLength</code> 个字节，并将结果解释为支持最高 48 位精度的小端序、二进制补码有符号值。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntLE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: -546f87a9cbee</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readIntLE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: -546f87a9cbee</span></code></pre>
<h4><code>buf.readUInt8([offset])</code><span><a class="mark" href="#bufreaduint8offset" id="bufreaduint8offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuint8_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduint8offset">
                <a href="buffer/buf_readuint8_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUint8()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>新增于: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 1</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定 <code>offset</code> 处的 <code>buf</code> 读取无符号 8 位整数。</p>
<p class="">此函数也可在 <code>readUint8</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, -<span class="hljs-number">2</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 打印: 254</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">2</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">1</span>, -<span class="hljs-number">2</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">0</span>));
<span class="hljs-comment">// 打印: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">1</span>));
<span class="hljs-comment">// 打印: 254</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt8</span>(<span class="hljs-number">2</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readUInt16BE([offset])</code><span><a class="mark" href="#bufreaduint16beoffset" id="bufreaduint16beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuint16be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduint16beoffset">
                <a href="buffer/buf_readuint16be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUint16BE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的大端序 16 位整数。</p>
<p class="">此函数也可在 <code>readUint16BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16BE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16BE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 3456</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16BE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16BE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 3456</span></code></pre>
<h4><code>buf.readUInt16LE([offset])</code><span><a class="mark" href="#bufreaduint16leoffset" id="bufreaduint16leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuint16le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduint16leoffset">
                <a href="buffer/buf_readuint16le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUint16LE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的小端序 16 位整数。</p>
<p class="">此函数也可在 <code>readUint16LE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 3412</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 5634</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 3412</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 5634</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt16LE</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readUInt32BE([offset])</code><span><a class="mark" href="#bufreaduint32beoffset" id="bufreaduint32beoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuint32be_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduint32beoffset">
                <a href="buffer/buf_readuint32be_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUint32BE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的大端序 32 位整数。</p>
<p class="">此函数也可在 <code>readUint32BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32BE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 12345678</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32BE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 12345678</span></code></pre>
<h4><code>buf.readUInt32LE([offset])</code><span><a class="mark" href="#bufreaduint32leoffset" id="bufreaduint32leoffset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuint32le_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduint32leoffset">
                <a href="buffer/buf_readuint32le_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUint32LE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取无符号的小端序 32 位整数。</p>
<p class="">此函数也可在 <code>readUint32LE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32LE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 78563412</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32LE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32LE</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 78563412</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUInt32LE</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readUIntBE(offset, byteLength)</code><span><a class="mark" href="#bufreaduintbeoffset-bytelength" id="bufreaduintbeoffset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuintbe_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduintbeoffset-bytelength">
                <a href="buffer/buf_readuintbe_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUintBE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要读取的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取 <code>byteLength</code> 个字节，并将结果解释为支持最高 48 位精度的无符号大端序整数。</p>
<p class="">此函数也可在 <code>readUintBE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntBE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234567890ab</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntBE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: 1234567890ab</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntBE</span>(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 抛出 ERR_OUT_OF_RANGE。</span></code></pre>
<h4><code>buf.readUIntLE(offset, byteLength)</code><span><a class="mark" href="#bufreaduintleoffset-bytelength" id="bufreaduintleoffset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_readuintle_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufreaduintleoffset-bytelength">
                <a href="buffer/buf_readuintle_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.readUintLE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始读取之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要读取的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>从指定的 <code>offset</code> 处的 <code>buf</code> 读取 <code>byteLength</code> 个字节，并将结果解释为支持最高 48 位精度的无符号小端序整数。</p>
<p class="">此函数也可在 <code>readUintLE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntLE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: ab9078563412</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x12</span>, <span class="hljs-number">0x34</span>, <span class="hljs-number">0x56</span>, <span class="hljs-number">0x78</span>, <span class="hljs-number">0x90</span>, <span class="hljs-number">0xab</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">readUIntLE</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
<span class="hljs-comment">// 打印: ab9078563412</span></code></pre>
<h4><code>buf.subarray([start[, end]])</code><span><a class="mark" href="#bufsubarraystart-end" id="bufsubarraystart-end">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_subarray_start_end"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufsubarraystart-end">
                <a href="buffer/buf_subarray_start_end.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v3.0.0</span>
</div>
<ul class="">
<li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 将开始的位置。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 将结束的位置（不包括在内）。
<strong>默认值:</strong> <a href="#buflength"><code>buf.length</code></a>.</li>
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p>返回新的 <code>Buffer</code>，其引用与原始缓冲区相同的内存，但由 <code>start</code> 和 <code>end</code> 索引进行偏移和裁剪。</p>
<p class="">指定 <code>end</code> 大于 <a href="#buflength"><code>buf.length</code></a> 将返回与 <code>end</code> 等于 <a href="#buflength"><code>buf.length</code></a> 相同的结果。</p>
<p class="">该方法继承自 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray" rel="nofollow"><code>TypedArray.prototype.subarray()</code></a>。</p>
<p class="">修改新的 <code>Buffer</code> 切片会修改原来 <code>Buffer</code> 中的内存，因为两个对象分配的内存是重叠的。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-comment">// 用 ASCII 字母创建 `Buffer`，取一个切片，并从原来的 `Buffer` 修改一个字节。</span>

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-keyword">const</span> buf2 = buf1.<span class="hljs-title function_">subarray</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, buf2.<span class="hljs-property">length</span>));
<span class="hljs-comment">// 打印: abc</span>

buf1[<span class="hljs-number">0</span>] = <span class="hljs-number">33</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, buf2.<span class="hljs-property">length</span>));
<span class="hljs-comment">// 打印: !bc</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-comment">// 用 ASCII 字母创建 `Buffer`，取一个切片，并从原来的 `Buffer` 修改一个字节。</span>

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-keyword">const</span> buf2 = buf1.<span class="hljs-title function_">subarray</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, buf2.<span class="hljs-property">length</span>));
<span class="hljs-comment">// 打印: abc</span>

buf1[<span class="hljs-number">0</span>] = <span class="hljs-number">33</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>, <span class="hljs-number">0</span>, buf2.<span class="hljs-property">length</span>));
<span class="hljs-comment">// 打印: !bc</span></code></pre>
<p class="">指定负索引会导致相对于 <code>buf</code> 的末尾而不是开头生成切片。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">6</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffe</span>
<span class="hljs-comment">// (相当于 buf.subarray(0, 5).)</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">6</span>, -<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buff</span>
<span class="hljs-comment">// (相当于 buf.subarray(0, 4).)</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">5</span>, -<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: uff</span>
<span class="hljs-comment">// (相当于 buf.subarray(1, 4).)</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">6</span>, -<span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffe</span>
<span class="hljs-comment">// (相当于 buf.subarray(0, 5).)</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">6</span>, -<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buff</span>
<span class="hljs-comment">// (相当于 buf.subarray(0, 4).)</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">subarray</span>(-<span class="hljs-number">5</span>, -<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: uff</span>
<span class="hljs-comment">// (相当于 buf.subarray(1, 4).)</span></code></pre>
<h4><code>buf.slice([start[, end]])</code><span><a class="mark" href="#bufslicestart-end" id="bufslicestart-end">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_slice_start_end"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufslicestart-end">
                <a href="buffer/buf_slice_start_end.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v16.15.0</td>
<td><p>buf.slice() 方法已被弃用。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>在进行任何计算之前，所有偏移量现在都被强制为整数。</p></td></tr>
<tr><td>v7.1.0, v6.9.2</td>
<td><p>将偏移量强制为整数现在可以正确处理 32 位整数范围之外的值。</p></td></tr>
<tr><td>v0.3.0</td>
<td><p><span>新增于: v0.3.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 将开始的位置。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 将结束的位置（不包括在内）。
<strong>默认值:</strong> <a href="#buflength"><code>buf.length</code></a>.</li>
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#bufsubarraystart-end"><code>buf.subarray</code></a> 。</div><p></p>
<p>返回新的 <code>Buffer</code>，其引用与原始缓冲区相同的内存，但由 <code>start</code> 和 <code>end</code> 索引进行偏移和裁剪。</p>
<p class="">此方法与 <code>Uint8Array.prototype.slice()</code>（<code>Buffer</code> 的超类）不兼容。
要复制切片，则使用 <code>Uint8Array.prototype.slice()</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> copiedBuf = <span class="hljs-title class_">Uint8Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(buf);
copiedBuf[<span class="hljs-number">0</span>]++;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copiedBuf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: cuffer</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffer</span>

<span class="hljs-comment">// 使用 buf.slice()，修改原始的缓冲区。</span>
<span class="hljs-keyword">const</span> notReallyCopiedBuf = buf.<span class="hljs-title function_">slice</span>();
notReallyCopiedBuf[<span class="hljs-number">0</span>]++;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(notReallyCopiedBuf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: cuffer</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 也打印: cuffer (!)</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> copiedBuf = <span class="hljs-title class_">Uint8Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(buf);
copiedBuf[<span class="hljs-number">0</span>]++;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copiedBuf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: cuffer</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: buffer</span>

<span class="hljs-comment">// 使用 buf.slice()，修改原始的缓冲区。</span>
<span class="hljs-keyword">const</span> notReallyCopiedBuf = buf.<span class="hljs-title function_">slice</span>();
notReallyCopiedBuf[<span class="hljs-number">0</span>]++;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(notReallyCopiedBuf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 打印: cuffer</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf.<span class="hljs-title function_">toString</span>());
<span class="hljs-comment">// 也打印: cuffer (!)</span></code></pre>
<h4><code>buf.swap16()</code><span><a class="mark" href="#bufswap16" id="bufswap16">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_swap16"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufswap16">
                <a href="buffer/buf_swap16.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> <code>buf</code> 的引用。</li>
</ul>
<p>将 <code>buf</code> 解释为无符号的 16 位整数数组，并就地交换字节顺序。
如果 <a href="#buflength"><code>buf.length</code></a> 不是 2 的倍数，则抛出 <a href="errors.html#err_invalid_buffer_size"><code>ERR_INVALID_BUFFER_SIZE</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap16</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 02 01 04 03 06 05 08 07&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap16</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap16</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 02 01 04 03 06 05 08 07&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap16</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code></pre>
<p class=""><code>buf.swap16()</code> 的一种方便用法是在 UTF-16 小端序和 UTF-16 大端序之间执行快速就地转换：</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'This is little-endian UTF-16'</span>, <span class="hljs-string">'utf16le'</span>);
buf.<span class="hljs-title function_">swap16</span>(); <span class="hljs-comment">// 转换为大端序 UTF-16 文本。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'This is little-endian UTF-16'</span>, <span class="hljs-string">'utf16le'</span>);
buf.<span class="hljs-title function_">swap16</span>(); <span class="hljs-comment">// 转换为大端序 UTF-16 文本。</span></code></pre>
<h4><code>buf.swap32()</code><span><a class="mark" href="#bufswap32" id="bufswap32">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_swap32"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufswap32">
                <a href="buffer/buf_swap32.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<ul class="">
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> <code>buf</code> 的引用。</li>
</ul>
<p>将 <code>buf</code> 解释为无符号的 32 位整数数组，并就地交换字节顺序。
如果 <a href="#buflength"><code>buf.length</code></a> 不是 4 的倍数，则抛出 <a href="errors.html#err_invalid_buffer_size"><code>ERR_INVALID_BUFFER_SIZE</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap32</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 04 03 02 01 08 07 06 05&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap32</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap32</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 04 03 02 01 08 07 06 05&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap32</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code></pre>
<h4><code>buf.swap64()</code><span><a class="mark" href="#bufswap64" id="bufswap64">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_swap64"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufswap64">
                <a href="buffer/buf_swap64.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v6.3.0</span>
</div>
<ul class="">
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> <code>buf</code> 的引用。</li>
</ul>
<p>将 <code>buf</code> 解释为 64 位数字数组，并就地交换字节顺序。
如果 <a href="#buflength"><code>buf.length</code></a> 不是 8 的倍数，则抛出 <a href="errors.html#err_invalid_buffer_size"><code>ERR_INVALID_BUFFER_SIZE</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap64</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05 04 03 02 01&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap64</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>, <span class="hljs-number">0x6</span>, <span class="hljs-number">0x7</span>, <span class="hljs-number">0x8</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span>

buf1.<span class="hljs-title function_">swap64</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05 04 03 02 01&gt;</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>]);

buf2.<span class="hljs-title function_">swap64</span>();
<span class="hljs-comment">// 抛出 ERR_INVALID_BUFFER_SIZE。</span></code></pre>
<h4><code>buf.toJSON()</code><span><a class="mark" href="#buftojson" id="buftojson">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_tojson"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buftojson">
                <a href="buffer/buf_tojson.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.9.2</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="nofollow" class="type">&lt;Object&gt;</a></li>
</ul>
<p>返回 <code>buf</code> 的 JSON 表示。
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="nofollow"><code>JSON.stringify()</code></a> 在字符串化 <code>Buffer</code> 实例时隐式调用此函数。</p>
<p class=""><code>Buffer.from()</code> 接受从此方法返回的格式的对象。
特别是，<code>Buffer.from(buf.toJSON())</code> 的工作方式类似于 <code>Buffer.from(buf)</code>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>]);
<span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(buf);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">// 打印: {"type":"Buffer","data":[1,2,3,4,5]}</span>

<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> value &amp;&amp; value.<span class="hljs-property">type</span> === <span class="hljs-string">'Buffer'</span> ?
    <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(value) :
    value;
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>([<span class="hljs-number">0x1</span>, <span class="hljs-number">0x2</span>, <span class="hljs-number">0x3</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0x5</span>]);
<span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(buf);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);
<span class="hljs-comment">// 打印: {"type":"Buffer","data":[1,2,3,4,5]}</span>

<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> value &amp;&amp; value.<span class="hljs-property">type</span> === <span class="hljs-string">'Buffer'</span> ?
    <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(value) :
    value;
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05&gt;</span></code></pre>
<h4><code>buf.toString([encoding[, start[, end]]])</code><span><a class="mark" href="#buftostringencoding-start-end" id="buftostringencoding-start-end">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_tostring_encoding_start_end"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buftostringencoding-start-end">
                <a href="buffer/buf_tostring_encoding_start_end.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.1.90</span>
</div>
<ul class="">
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 要使用的字符编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
<li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始解码的字节偏移量。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 停止解码的字节偏移量（不包括在内）。
<strong>默认值:</strong> <a href="#buflength"><code>buf.length</code></a>.</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul>
<p>根据 <code>encoding</code> 中指定的字符编码将 <code>buf</code> 解码为字符串。
<code>start</code> 和 <code>end</code> 可以传入仅解码 <code>buf</code> 的子集。</p>
<p class="">如果 <code>encoding</code> 是 <code>'utf8'</code> 并且输入中的字节序列不是有效的 UTF-8，则每个无效字节都将替换为替换字符 <code>U+FFFD</code>。</p>
<p class="">字符串实例（以 UTF-16 代码单元表示）的最大长度可用作 <a href="#bufferconstantsmax_string_length"><code>buffer.constants.MAX_STRING_LENGTH</code></a>。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: abcdefghijklmnopqrstuvwxyz</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: abcde</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: 74c3a97374</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>));
<span class="hljs-comment">// 打印: té</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>));
<span class="hljs-comment">// 打印: té</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf1 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">26</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) {
  <span class="hljs-comment">// 97 是 'a' 的十进制 ASCII 值。</span>
  buf1[i] = i + <span class="hljs-number">97</span>;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>));
<span class="hljs-comment">// 打印: abcdefghijklmnopqrstuvwxyz</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf1.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>));
<span class="hljs-comment">// 打印: abcde</span>

<span class="hljs-keyword">const</span> buf2 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'tést'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'hex'</span>));
<span class="hljs-comment">// 打印: 74c3a97374</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>));
<span class="hljs-comment">// 打印: té</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf2.<span class="hljs-title function_">toString</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>));
<span class="hljs-comment">// 打印: té</span></code></pre>
<h4><code>buf.values()</code><span><a class="mark" href="#bufvalues" id="bufvalues">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_values"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufvalues">
                <a href="buffer/buf_values.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v1.1.0</span>
</div>
<ul class="">
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterator_protocol" rel="nofollow" class="type">&lt;Iterator&gt;</a></li>
</ul>
<p>为 <code>buf</code> 值（字节）创建并返回<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" rel="nofollow">迭代器</a>。
当在 <code>for..of</code> 语句中使用 <code>Buffer</code> 时，会自动调用此函数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">values</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   98</span>
<span class="hljs-comment">//   117</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   101</span>
<span class="hljs-comment">//   114</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> buf) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   98</span>
<span class="hljs-comment">//   117</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   101</span>
<span class="hljs-comment">//   114</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> buf.<span class="hljs-title function_">values</span>()) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   98</span>
<span class="hljs-comment">//   117</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   101</span>
<span class="hljs-comment">//   114</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> buf) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
<span class="hljs-comment">// 打印:</span>
<span class="hljs-comment">//   98</span>
<span class="hljs-comment">//   117</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   102</span>
<span class="hljs-comment">//   101</span>
<span class="hljs-comment">//   114</span></code></pre>
<h4><code>buf.write(string[, offset[, length]][, encoding])</code><span><a class="mark" href="#bufwritestring-offset-length-encoding" id="bufwritestring-offset-length-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_write_string_offset_length_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritestring-offset-length-encoding">
                <a href="buffer/buf_write_string_offset_length_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.1.90</span>
</div>
<ul class="">
<li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 要写入 <code>buf</code> 的字符串。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入 <code>string</code> 之前要跳过的字节数。
<strong>默认值:</strong> <code>0</code>。</li>
<li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入的最大字节数（写入的字节数不会超过 <code>buf.length - offset</code>）。 <strong>默认值:</strong> <code>buf.length - offset</code>。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> <code>string</code> 的字符编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 写入的字节数。</li>
</ul>
<p>根据 <code>encoding</code> 中的字符编码将 <code>string</code> 写入 <code>buf</code> 的 <code>offset</code> 处。
<code>length</code> 参数是要写入的字节数。
如果 <code>buf</code> 没有足够的空间来容纳整个字符串，则只会写入 <code>string</code> 的一部分。
但是，不会写入部分编码的字符。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">256</span>);

<span class="hljs-keyword">const</span> len = buf.<span class="hljs-title function_">write</span>(<span class="hljs-string">'\u00bd + \u00bc = \u00be'</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${len}</span> bytes: <span class="hljs-subst">${buf.toString(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, len)}</span>`</span>);
<span class="hljs-comment">// 打印: 12 bytes: ½ + ¼ = ¾</span>

<span class="hljs-keyword">const</span> buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);

<span class="hljs-keyword">const</span> length = buffer.<span class="hljs-title function_">write</span>(<span class="hljs-string">'abcd'</span>, <span class="hljs-number">8</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${length}</span> bytes: <span class="hljs-subst">${buffer.toString(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>)}</span>`</span>);
<span class="hljs-comment">// 打印: 2 bytes : ab</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">256</span>);

<span class="hljs-keyword">const</span> len = buf.<span class="hljs-title function_">write</span>(<span class="hljs-string">'\u00bd + \u00bc = \u00be'</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${len}</span> bytes: <span class="hljs-subst">${buf.toString(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">0</span>, len)}</span>`</span>);
<span class="hljs-comment">// 打印: 12 bytes: ½ + ¼ = ¾</span>

<span class="hljs-keyword">const</span> buffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">alloc</span>(<span class="hljs-number">10</span>);

<span class="hljs-keyword">const</span> length = buffer.<span class="hljs-title function_">write</span>(<span class="hljs-string">'abcd'</span>, <span class="hljs-number">8</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${length}</span> bytes: <span class="hljs-subst">${buffer.toString(<span class="hljs-string">'utf8'</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>)}</span>`</span>);
<span class="hljs-comment">// 打印: 2 bytes : ab</span></code></pre>
<h4><code>buf.writeBigInt64BE(value[, offset])</code><span><a class="mark" href="#bufwritebigint64bevalue-offset" id="bufwritebigint64bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writebigint64be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritebigint64bevalue-offset">
                <a href="buffer/buf_writebigint64be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v12.0.0, v10.20.0</span>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigInt64BE</span>(<span class="hljs-number">0x0102030405060708n</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigInt64BE</span>(<span class="hljs-number">0x0102030405060708n</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04 05 06 07 08&gt;</span></code></pre>
<h4><code>buf.writeBigInt64LE(value[, offset])</code><span><a class="mark" href="#bufwritebigint64levalue-offset" id="bufwritebigint64levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writebigint64le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritebigint64levalue-offset">
                <a href="buffer/buf_writebigint64le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v12.0.0, v10.20.0</span>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigInt64LE</span>(<span class="hljs-number">0x0102030405060708n</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05 04 03 02 01&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigInt64LE</span>(<span class="hljs-number">0x0102030405060708n</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05 04 03 02 01&gt;</span></code></pre>
<h4><code>buf.writeBigUInt64BE(value[, offset])</code><span><a class="mark" href="#bufwritebiguint64bevalue-offset" id="bufwritebiguint64bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writebiguint64be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritebiguint64bevalue-offset">
                <a href="buffer/buf_writebiguint64be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.10.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeBigUint64BE()</code>。</p></td></tr>
<tr><td>v12.0.0, v10.20.0</td>
<td><p><span>新增于: v12.0.0, v10.20.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。</p>
<p class="">此函数也可在 <code>writeBigUint64BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigUInt64BE</span>(<span class="hljs-number">0xdecafafecacefaden</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de ca fa fe ca ce fa de&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigUInt64BE</span>(<span class="hljs-number">0xdecafafecacefaden</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de ca fa fe ca ce fa de&gt;</span></code></pre>
<h4><code>buf.writeBigUInt64LE(value[, offset])</code><span><a class="mark" href="#bufwritebiguint64levalue-offset" id="bufwritebiguint64levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writebiguint64le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritebiguint64levalue-offset">
                <a href="buffer/buf_writebiguint64le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.10.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeBigUint64LE()</code>。</p></td></tr>
<tr><td>v12.0.0, v10.20.0</td>
<td><p><span>新增于: v12.0.0, v10.20.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" rel="nofollow" class="type">&lt;bigint&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足：<code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code></p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigUInt64LE</span>(<span class="hljs-number">0xdecafafecacefaden</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de fa ce ca fe fa ca de&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeBigUInt64LE</span>(<span class="hljs-number">0xdecafafecacefaden</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de fa ce ca fe fa ca de&gt;</span></code></pre>
<p class="">此函数也可在 <code>writeBigUint64LE</code> 别名下使用。</p>
<h4><code>buf.writeDoubleBE(value[, offset])</code><span><a class="mark" href="#bufwritedoublebevalue-offset" id="bufwritedoublebevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writedoublebe_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritedoublebevalue-offset">
                <a href="buffer/buf_writedoublebe_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是 JavaScript 数字
当 <code>value</code> 不是 JavaScript 数字时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeDoubleBE</span>(<span class="hljs-number">123.456</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 40 5e dd 2f 1a 9f be 77&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeDoubleBE</span>(<span class="hljs-number">123.456</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 40 5e dd 2f 1a 9f be 77&gt;</span></code></pre>
<h4><code>buf.writeDoubleLE(value[, offset])</code><span><a class="mark" href="#bufwritedoublelevalue-offset" id="bufwritedoublelevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writedoublele_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritedoublelevalue-offset">
                <a href="buffer/buf_writedoublele_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 8</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是 JavaScript 数字
当 <code>value</code> 不是 JavaScript 数字时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeDoubleLE</span>(<span class="hljs-number">123.456</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 77 be 9f 1a 2f dd 5e 40&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">8</span>);

buf.<span class="hljs-title function_">writeDoubleLE</span>(<span class="hljs-number">123.456</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 77 be 9f 1a 2f dd 5e 40&gt;</span></code></pre>
<h4><code>buf.writeFloatBE(value[, offset])</code><span><a class="mark" href="#bufwritefloatbevalue-offset" id="bufwritefloatbevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writefloatbe_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritefloatbevalue-offset">
                <a href="buffer/buf_writefloatbe_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
当 <code>value</code> 不是 JavaScript 数字时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeFloatBE</span>(<span class="hljs-number">0xcafebabe</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 4f 4a fe bb&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeFloatBE</span>(<span class="hljs-number">0xcafebabe</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 4f 4a fe bb&gt;</span></code></pre>
<h4><code>buf.writeFloatLE(value[, offset])</code><span><a class="mark" href="#bufwritefloatlevalue-offset" id="bufwritefloatlevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writefloatle_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwritefloatlevalue-offset">
                <a href="buffer/buf_writefloatle_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;number&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
当 <code>value</code> 不是 JavaScript 数字时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeFloatLE</span>(<span class="hljs-number">0xcafebabe</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer bb fe 4a 4f&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeFloatLE</span>(<span class="hljs-number">0xcafebabe</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer bb fe 4a 4f&gt;</span></code></pre>
<h4><code>buf.writeInt8(value[, offset])</code><span><a class="mark" href="#bufwriteint8value-offset" id="bufwriteint8value-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeint8_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteint8value-offset">
                <a href="buffer/buf_writeint8_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>新增于: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 1</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的有符号 8 位整数。
当 <code>value</code> 不是有符号的 8 位整数时，则行为未定义。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt8</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeInt8</span>(-<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 02 fe&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt8</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeInt8</span>(-<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 02 fe&gt;</span></code></pre>
<h4><code>buf.writeInt16BE(value[, offset])</code><span><a class="mark" href="#bufwriteint16bevalue-offset" id="bufwriteint16bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeint16be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteint16bevalue-offset">
                <a href="buffer/buf_writeint16be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的有符号 16 位整数。
当 <code>value</code> 不是有符号的 16 位整数时，则行为未定义。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt16BE</span>(<span class="hljs-number">0x0102</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt16BE</span>(<span class="hljs-number">0x0102</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02&gt;</span></code></pre>
<h4><code>buf.writeInt16LE(value[, offset])</code><span><a class="mark" href="#bufwriteint16levalue-offset" id="bufwriteint16levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeint16le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteint16levalue-offset">
                <a href="buffer/buf_writeint16le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的有符号 16 位整数。
当 <code>value</code> 不是有符号的 16 位整数时，则行为未定义。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt16LE</span>(<span class="hljs-number">0x0304</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 04 03&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">2</span>);

buf.<span class="hljs-title function_">writeInt16LE</span>(<span class="hljs-number">0x0304</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 04 03&gt;</span></code></pre>
<h4><code>buf.writeInt32BE(value[, offset])</code><span><a class="mark" href="#bufwriteint32bevalue-offset" id="bufwriteint32bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeint32be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteint32bevalue-offset">
                <a href="buffer/buf_writeint32be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的有符号 32 位整数。
当 <code>value</code> 不是有符号的 32 位整数时，则行为未定义。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeInt32BE</span>(<span class="hljs-number">0x01020304</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeInt32BE</span>(<span class="hljs-number">0x01020304</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 01 02 03 04&gt;</span></code></pre>
<h4><code>buf.writeInt32LE(value[, offset])</code><span><a class="mark" href="#bufwriteint32levalue-offset" id="bufwriteint32levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeint32le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteint32levalue-offset">
                <a href="buffer/buf_writeint32le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的有符号 32 位整数。
当 <code>value</code> 不是有符号的 32 位整数时，则行为未定义。</p>
<p class=""><code>value</code> 被解释和写入为二进制补码有符号整数。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeInt32LE</span>(<span class="hljs-number">0x05060708</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeInt32LE</span>(<span class="hljs-number">0x05060708</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 08 07 06 05&gt;</span></code></pre>
<h4><code>buf.writeIntBE(value, offset, byteLength)</code><span><a class="mark" href="#bufwriteintbevalue-offset-bytelength" id="bufwriteintbevalue-offset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeintbe_value_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteintbevalue-offset-bytelength">
                <a href="buffer/buf_writeintbe_value_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 的 <code>byteLength</code> 个字节作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
支持最高 48 位的精度。
当 <code>value</code> 不是有符号整数时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeIntBE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 12 34 56 78 90 ab&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeIntBE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 12 34 56 78 90 ab&gt;</span></code></pre>
<h4><code>buf.writeIntLE(value, offset, byteLength)</code><span><a class="mark" href="#bufwriteintlevalue-offset-bytelength" id="bufwriteintlevalue-offset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeintle_value_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteintlevalue-offset-bytelength">
                <a href="buffer/buf_writeintle_value_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.11.15</td>
<td><p><span>新增于: v0.11.15</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 的 <code>byteLength</code> 个字节作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
支持最高 48 位的精度。
当 <code>value</code> 不是有符号整数时，则行为未定义。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeIntLE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ab 90 78 56 34 12&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeIntLE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ab 90 78 56 34 12&gt;</span></code></pre>
<h4><code>buf.writeUInt8(value[, offset])</code><span><a class="mark" href="#bufwriteuint8value-offset" id="bufwriteuint8value-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuint8_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuint8value-offset">
                <a href="buffer/buf_writeuint8_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUint8()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>新增于: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 1</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的无符号 8 位整数。
当 <code>value</code> 不是无符号 8 位整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUint8</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x3</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x4</span>, <span class="hljs-number">1</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x23</span>, <span class="hljs-number">2</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x42</span>, <span class="hljs-number">3</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 03 04 23 42&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x3</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x4</span>, <span class="hljs-number">1</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x23</span>, <span class="hljs-number">2</span>);
buf.<span class="hljs-title function_">writeUInt8</span>(<span class="hljs-number">0x42</span>, <span class="hljs-number">3</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 03 04 23 42&gt;</span></code></pre>
<h4><code>buf.writeUInt16BE(value[, offset])</code><span><a class="mark" href="#bufwriteuint16bevalue-offset" id="bufwriteuint16bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuint16be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuint16bevalue-offset">
                <a href="buffer/buf_writeuint16be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUint16BE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的无符号 16 位整数。
当 <code>value</code> 不是无符号 16 位整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUint16BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt16BE</span>(<span class="hljs-number">0xdead</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt16BE</span>(<span class="hljs-number">0xbeef</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de ad be ef&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt16BE</span>(<span class="hljs-number">0xdead</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt16BE</span>(<span class="hljs-number">0xbeef</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer de ad be ef&gt;</span></code></pre>
<h4><code>buf.writeUInt16LE(value[, offset])</code><span><a class="mark" href="#bufwriteuint16levalue-offset" id="bufwriteuint16levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuint16le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuint16levalue-offset">
                <a href="buffer/buf_writeuint16le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUint16LE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 2</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的无符号 16 位整数。
当 <code>value</code> 不是无符号 16 位整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUint16LE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt16LE</span>(<span class="hljs-number">0xdead</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt16LE</span>(<span class="hljs-number">0xbeef</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ad de ef be&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt16LE</span>(<span class="hljs-number">0xdead</span>, <span class="hljs-number">0</span>);
buf.<span class="hljs-title function_">writeUInt16LE</span>(<span class="hljs-number">0xbeef</span>, <span class="hljs-number">2</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ad de ef be&gt;</span></code></pre>
<h4><code>buf.writeUInt32BE(value[, offset])</code><span><a class="mark" href="#bufwriteuint32bevalue-offset" id="bufwriteuint32bevalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuint32be_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuint32bevalue-offset">
                <a href="buffer/buf_writeuint32be_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUint32BE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的无符号 32 位整数。
当 <code>value</code> 不是无符号 32 位整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUint32BE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt32BE</span>(<span class="hljs-number">0xfeedface</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer fe ed fa ce&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt32BE</span>(<span class="hljs-number">0xfeedface</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer fe ed fa ce&gt;</span></code></pre>
<h4><code>buf.writeUInt32LE(value[, offset])</code><span><a class="mark" href="#bufwriteuint32levalue-offset" id="bufwriteuint32levalue-offset">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuint32le_value_offset"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuint32levalue-offset">
                <a href="buffer/buf_writeuint32le_value_offset.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUint32LE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再隐式强制将偏移量强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - 4</code>。 <strong>默认值:</strong> <code>0</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
<code>value</code> 必须是有效的无符号 32 位整数。
当 <code>value</code> 不是无符号 32 位整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUint32LE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt32LE</span>(<span class="hljs-number">0xfeedface</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ce fa ed fe&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">4</span>);

buf.<span class="hljs-title function_">writeUInt32LE</span>(<span class="hljs-number">0xfeedface</span>, <span class="hljs-number">0</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ce fa ed fe&gt;</span></code></pre>
<h4><code>buf.writeUIntBE(value, offset, byteLength)</code><span><a class="mark" href="#bufwriteuintbevalue-offset-bytelength" id="bufwriteuintbevalue-offset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuintbe_value_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuintbevalue-offset-bytelength">
                <a href="buffer/buf_writeuintbe_value_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUintBE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 的 <code>byteLength</code> 个字节作为大端序写入 <code>buf</code> 中指定的 <code>offset</code>。
支持最高 48 位的精度。
当 <code>value</code> 不是无符号整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUintBE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeUIntBE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 12 34 56 78 90 ab&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeUIntBE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer 12 34 56 78 90 ab&gt;</span></code></pre>
<h4><code>buf.writeUIntLE(value, offset, byteLength)</code><span><a class="mark" href="#bufwriteuintlevalue-offset-bytelength" id="bufwriteuintlevalue-offset-bytelength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buf_writeuintle_value_offset_bytelength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufwriteuintlevalue-offset-bytelength">
                <a href="buffer/buf_writeuintle_value_offset_bytelength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v14.9.0, v12.19.0</td>
<td><p>此函数也可用作 <code>buf.writeUintLE()</code>。</p></td></tr>
<tr><td>v10.0.0</td>
<td><p>删除了 <code>noAssert</code> 并且不再将偏移量和 <code>byteLength</code> 隐式强制转换为 <code>uint32</code>。</p></td></tr>
<tr><td>v0.5.5</td>
<td><p><span>新增于: v0.5.5</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入 <code>buf</code> 的数字。</li>
<li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 开始写入之前要跳过的字节数。
必须满足 <code>0 &lt;= offset &lt;= buf.length - byteLength</code>。</li>
<li><code>byteLength</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要写入的字节数。
必须满足 <code>0 &lt; byteLength &lt;= 6</code>。</li>
<li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <code>offset</code> 加上写入的字节数。</li>
</ul>
<p>将 <code>value</code> 的 <code>byteLength</code> 个字节作为小端序写入 <code>buf</code> 中指定的 <code>offset</code>。
支持最高 48 位的精度。
当 <code>value</code> 不是无符号整数时，则行为未定义。</p>
<p class="">此函数也可在 <code>writeUintLE</code> 别名下使用。</p>

<pre class="with-37-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeUIntLE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ab 90 78 56 34 12&gt;</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> buf = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">allocUnsafe</span>(<span class="hljs-number">6</span>);

buf.<span class="hljs-title function_">writeUIntLE</span>(<span class="hljs-number">0x1234567890ab</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buf);
<span class="hljs-comment">// 打印: &lt;Buffer ab 90 78 56 34 12&gt;</span></code></pre>
<h4><code>new Buffer(array)</code><span><a class="mark" href="#new-bufferarray" id="new-bufferarray">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_array"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-bufferarray">
                <a href="buffer/new_buffer_array.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>当从 <code>node_modules</code> 目录外的代码运行时，则调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v7.2.1</td>
<td><p>调用此构造函数不再触发弃用警告。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>现在调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>弃用于: v6.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a> 。</div><p></p>
<ul class="">
<li><code>array</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer[]&gt;</a> 要从中复制的字节数组。</li>
</ul>
<p>参见 <a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a>。</p>
<h4><code>new Buffer(arrayBuffer[, byteOffset[, length]])</code><span><a class="mark" href="#new-bufferarraybuffer-byteoffset-length" id="new-bufferarraybuffer-byteoffset-length">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_arraybuffer_byteoffset_length"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-bufferarraybuffer-byteoffset-length">
                <a href="buffer/new_buffer_arraybuffer_byteoffset_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>当从 <code>node_modules</code> 目录外的代码运行时，则调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v7.2.1</td>
<td><p>调用此构造函数不再触发弃用警告。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>现在调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p>现在支持 <code>byteOffset</code> 和 <code>length</code> 参数。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>弃用于: v6.0.0</span></p></td></tr>
<tr><td>v3.0.0</td>
<td><p><span>新增于: v3.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用
<a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a>
。</div><p></p>
<ul class="">
<li><code>arrayBuffer</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow" class="type">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow" class="type">&lt;SharedArrayBuffer&gt;</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a>、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow"><code>SharedArrayBuffer</code></a>、或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" rel="nofollow"><code>TypedArray</code></a> 的 <code>.buffer</code> 属性。</li>
<li><code>byteOffset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要暴露的第一个字节的索引。 <strong>默认值:</strong> <code>0</code>。</li>
<li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 要暴露的字节数。
<strong>默认值:</strong> <code>arrayBuffer.byteLength - byteOffset</code>。</li>
</ul>
<p>参见 <a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a>。</p>
<h4><code>new Buffer(buffer)</code><span><a class="mark" href="#new-bufferbuffer" id="new-bufferbuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_buffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-bufferbuffer">
                <a href="buffer/new_buffer_buffer.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>当从 <code>node_modules</code> 目录外的代码运行时，则调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v7.2.1</td>
<td><p>调用此构造函数不再触发弃用警告。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>现在调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>弃用于: v6.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a> 。</div><p></p>
<ul class="">
<li><code>buffer</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> 要从中复制数据的现有 <code>Buffer</code> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow"><code>Uint8Array</code></a>。</li>
</ul>
<p>参见 <a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a>。</p>
<h4><code>new Buffer(size)</code><span><a class="mark" href="#new-buffersize" id="new-buffersize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_size"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-buffersize">
                <a href="buffer/new_buffer_size.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>当从 <code>node_modules</code> 目录外的代码运行时，则调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v8.0.0</td>
<td><p>默认情况下，<code>new Buffer(size)</code> 将返回零填充内存。</p></td></tr>
<tr><td>v7.2.1</td>
<td><p>调用此构造函数不再触发弃用警告。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>现在调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>弃用于: v6.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a>  (或
<a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a>)。</div><p></p>
<ul class="">
<li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>Buffer</code> 所需的长度。</li>
</ul>
<p>参见 <a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a> 和 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a>。
构造函数的此变体等效于 <a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a>。</p>
<h4><code>new Buffer(string[, encoding])</code><span><a class="mark" href="#new-bufferstring-encoding" id="new-bufferstring-encoding">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_buffer_string_encoding"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#new-bufferstring-encoding">
                <a href="buffer/new_buffer_string_encoding.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v10.0.0</td>
<td><p>当从 <code>node_modules</code> 目录外的代码运行时，则调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v7.2.1</td>
<td><p>调用此构造函数不再触发弃用警告。</p></td></tr>
<tr><td>v7.0.0</td>
<td><p>现在调用此构造函数会触发弃用警告。</p></td></tr>
<tr><td>v6.0.0</td>
<td><p><span>弃用于: v6.0.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用:
改为使用 <a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a> 。</div><p></p>
<ul class="">
<li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 要编码的字符串。</li>
<li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> <code>string</code> 的编码。 <strong>默认值:</strong> <code>'utf8'</code>。</li>
</ul>
<p>参见 <a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a>。</p>
</section><section><h3>缓冲区模块 API<span><a class="mark" href="#buffer-module-apis" id="buffer-module-apis">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_module_apis"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#buffer-module-apis">
                <a href="buffer/buffer_module_apis.html" class="tip_trans">中英对照</a>
                </p>
<p>虽然 <code>Buffer</code> 对象可作为全局对象使用，但还有其他与 <code>Buffer</code> 相关的 API 仅可通过使用 <code>require('buffer')</code> 访问的 <code>buffer</code> 模块使用。</p>
<h4><code>buffer.atob(data)</code><span><a class="mark" href="#bufferatobdata" id="bufferatobdata">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_atob_data"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferatobdata">
                <a href="buffer/buffer_atob_data.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.13.0</span>
</div>
<p></p><div class="api_stability api_stability_3"><a href="documentation.html#stability-index">稳定性: 3</a> - 旧版. 改为使用 <code>Buffer.from(data, 'base64')</code> 。</div><p></p>
<ul class="">
<li><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" rel="nofollow" class="type">&lt;any&gt;</a> Base64 编码的输入字符串。</li>
</ul>
<p>将 Base64 编码的数据字符串解码为字节，并使用 Latin-1 (ISO-8859-1) 将这些字节编码为字符串。</p>
<p class=""><code>data</code> 可以是任何可以强制转换为字符串的 JavaScript 值。</p>
<p class=""><strong>此函数仅用于与旧版 Web 平台 API 兼容，不应在新代码中使用，因为它们使用字符串表示二进制数据，并且早于 JavaScript 中引入类型化数组。
对于使用 Node.js API 运行的代码，base64 编码的字符串和二进制数据之间的转换应该使用 <code>Buffer.from(str, 'base64')</code> 和 <code>buf.toString('base64')</code>。</strong></p>
<h4><code>buffer.btoa(data)</code><span><a class="mark" href="#bufferbtoadata" id="bufferbtoadata">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_btoa_data"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferbtoadata">
                <a href="buffer/buffer_btoa_data.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v15.13.0</span>
</div>
<p></p><div class="api_stability api_stability_3"><a href="documentation.html#stability-index">稳定性: 3</a> - 旧版. 改为使用 <code>buf.toString('base64')</code> 。</div><p></p>
<ul class="">
<li><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" rel="nofollow" class="type">&lt;any&gt;</a> ASCII (Latin1) 字符串。</li>
</ul>
<p>使用 Latin-1 (ISO-8859) 将字符串解码为字节，并使用 Base64 将这些字节编码为字符串。</p>
<p class=""><code>data</code> 可以是任何可以强制转换为字符串的 JavaScript 值。</p>
<p class=""><strong>此函数仅用于与旧版 Web 平台 API 兼容，不应在新代码中使用，因为它们使用字符串表示二进制数据，并且早于 JavaScript 中引入类型化数组。
对于使用 Node.js API 运行的代码，base64 编码的字符串和二进制数据之间的转换应该使用 <code>Buffer.from(str, 'base64')</code> 和 <code>buf.toString('base64')</code>。</strong></p>
<h4><code>buffer.INSPECT_MAX_BYTES</code><span><a class="mark" href="#bufferinspect_max_bytes" id="bufferinspect_max_bytes">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_inspect_max_bytes"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferinspect_max_bytes">
                <a href="buffer/buffer_inspect_max_bytes.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v0.5.4</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> <strong>默认值:</strong> <code>50</code></li>
</ul>
<p>返回调用 <code>buf.inspect()</code> 时将返回的最大字节数。
这可以被用户模块覆盖。
有关 <code>buf.inspect()</code> 行为的更多详细信息，请参阅 <a href="util.html#utilinspectobject-options"><code>util.inspect()</code></a>。</p>
<h4><code>buffer.kMaxLength</code><span><a class="mark" href="#bufferkmaxlength" id="bufferkmaxlength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_kmaxlength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferkmaxlength">
                <a href="buffer/buffer_kmaxlength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v3.0.0</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 单个 <code>Buffer</code> 实例允许的最大大小。</li>
</ul>
<p><a href="#bufferconstantsmax_length"><code>buffer.constants.MAX_LENGTH</code></a> 的别名。</p>
<h4><code>buffer.kStringMaxLength</code><span><a class="mark" href="#bufferkstringmaxlength" id="bufferkstringmaxlength">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_kstringmaxlength"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferkstringmaxlength">
                <a href="buffer/buffer_kstringmaxlength.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v3.0.0</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 单个 <code>string</code> 实例允许的最大长度。</li>
</ul>
<p><a href="#bufferconstantsmax_string_length"><code>buffer.constants.MAX_STRING_LENGTH</code></a> 的别名。</p>
<h4><code>buffer.resolveObjectURL(id)</code><span><a class="mark" href="#bufferresolveobjecturlid" id="bufferresolveobjecturlid">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_resolveobjecturl_id"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferresolveobjecturlid">
                <a href="buffer/buffer_resolveobjecturl_id.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v16.7.0</span>
</div>
<p></p><div class="api_stability api_stability_1"><a href="documentation.html#stability-index">稳定性: 1</a> - 实验</div><p></p>
<ul class="">
<li><code>id</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 先前调用 <code>URL.createObjectURL()</code> 返回的 <code>'blob:nodedata:...</code> 网址字符串。</li>
<li>返回: <a href="#class-blob" rel="nofollow" class="type">&lt;Blob&gt;</a></li>
</ul>
<p>解析 <code>'blob:nodedata:...'</code>，关联的使用先前调用 <code>URL.createObjectURL()</code> 注册的 <a href="#class-blob" rel="nofollow" class="type">&lt;Blob&gt;</a> 对象。</p>
<h4><code>buffer.transcode(source, fromEnc, toEnc)</code><span><a class="mark" href="#buffertranscodesource-fromenc-toenc" id="buffertranscodesource-fromenc-toenc">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_transcode_source_fromenc_toenc"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#buffertranscodesource-fromenc-toenc">
                <a href="buffer/buffer_transcode_source_fromenc_toenc.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p>参数 <code>source</code> 现在可以是 <code>Uint8Array</code>。</p></td></tr>
<tr><td>v7.1.0</td>
<td><p><span>新增于: v7.1.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><code>source</code> <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" rel="nofollow" class="type">&lt;Uint8Array&gt;</a> <code>Buffer</code> 或 <code>Uint8Array</code> 实例。</li>
<li><code>fromEnc</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 当前编码。</li>
<li><code>toEnc</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a> 目标编码。</li>
<li>返回: <a href="#class-buffer" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p>将给定的 <code>Buffer</code> 或 <code>Uint8Array</code> 实例从一种字符编码重新编码为另一种。
返回新的 <code>Buffer</code> 实例。</p>
<p class="">如果 <code>fromEnc</code> 或 <code>toEnc</code> 指定无效的字符编码或不允许从 <code>fromEnc</code> 转换为 <code>toEnc</code>，则抛出错误。</p>
<p class=""><code>buffer.transcode()</code> 支持的编码有：<code>'ascii'</code>、<code>'utf8'</code>、<code>'utf16le'</code>、<code>'ucs2'</code>、<code>'latin1'</code> 和 <code>'binary'</code>。</p>
<p class="">如果给定的字节序列不能在目标编码中充分表示，则转码过程将使用替换字符。
例如：</p>

<pre class="with-48-chars"><input class="js-flavor-selector" type="checkbox" checked="" aria-label="Show modern ES modules syntax"><code class="language-js mjs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Buffer</span>, transcode } <span class="hljs-keyword">from</span> <span class="hljs-string">'buffer'</span>;

<span class="hljs-keyword">const</span> newBuf = <span class="hljs-title function_">transcode</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'€'</span>), <span class="hljs-string">'utf8'</span>, <span class="hljs-string">'ascii'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newBuf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>));
<span class="hljs-comment">// 打印: '?'</span></code><code class="language-js cjs"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Buffer</span>, transcode } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'buffer'</span>);

<span class="hljs-keyword">const</span> newBuf = <span class="hljs-title function_">transcode</span>(<span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">'€'</span>), <span class="hljs-string">'utf8'</span>, <span class="hljs-string">'ascii'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newBuf.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'ascii'</span>));
<span class="hljs-comment">// 打印: '?'</span></code></pre>
<p class="">由于欧元 (<code>€</code>) 符号在 US-ASCII 中无法表示，因此在转码后的 <code>Buffer</code> 中将其替换为 <code>?</code>。</p>
<h4><code>SlowBuffer</code> 类<span><a class="mark" href="#class-slowbuffer" id="class-slowbuffer">#</a></span><a aria-hidden="true" class="legacy" id="buffer_class_slowbuffer"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#class-slowbuffer">
                <a href="buffer/class_slowbuffer.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>弃用于: v6.0.0</span>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a> 。</div><p></p>
<p>参见 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a>。
从构造函数总是返回 <code>Buffer</code> 实例而不是 <code>SlowBuffer</code> 实例的意义上来说，这从来都不是一个类。</p>
<h5><code>new SlowBuffer(size)</code><span><a class="mark" href="#new-slowbuffersize" id="new-slowbuffersize">#</a></span><a aria-hidden="true" class="legacy" id="buffer_new_slowbuffer_size"></a></h5><p class="tip_wrap" data-show_trans="1" data-item_id="#new-slowbuffersize">
                <a href="buffer/new_slowbuffer_size.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>弃用于: v6.0.0</span>
</div>
<p></p><div class="api_stability api_stability_0"><a href="documentation.html#stability-index">稳定性: 0</a> - 弃用: 改为使用 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a> 。</div><p></p>
<ul class="">
<li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 新的 <code>SlowBuffer</code> 所需的长度。</li>
</ul>
<p>参见 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a>。</p>
<h4>缓冲区常量<span><a class="mark" href="#buffer-constants" id="buffer-constants">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_constants"></a></h4><p class="tip_wrap"></p>
<div class="api_metadata">
<span>新增于: v8.2.0</span>
</div>
<h5><code>buffer.constants.MAX_LENGTH</code><span><a class="mark" href="#bufferconstantsmax_length" id="bufferconstantsmax_length">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_constants_max_length"></a></h5><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferconstantsmax_length">
                <a href="buffer/buffer_constants_max_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v15.0.0</td>
<td><p>在 64 位架构上，值更改为 2<sup>32</sup>。</p></td></tr>
<tr><td>v14.0.0</td>
<td><p>在 64 位架构上，值从 2<sup>31</sup> - 1 更改为 2<sup>32</sup> - 1。</p></td></tr>
<tr><td>v8.2.0</td>
<td><p><span>新增于: v8.2.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 单个 <code>Buffer</code> 实例允许的最大大小。</li>
</ul>
<p>在 32 位架构上，此值目前是 2<sup>30</sup> - 1（大约 1 GB）。</p>
<p class="">在 64 位架构上，此值目前是 2<sup>32</sup>（大约 4 GB）。</p>
<p class="">它反映了引擎盖下的 <a href="https://v8.github.io/api/head/classv8_1_1TypedArray.html#a54a48f4373da0850663c4393d843b9b0" rel="nofollow"><code>v8::TypedArray::kMaxLength</code></a>。</p>
<p class="">此值也可用作 <a href="#bufferkmaxlength"><code>buffer.kMaxLength</code></a>。</p>
<h5><code>buffer.constants.MAX_STRING_LENGTH</code><span><a class="mark" href="#bufferconstantsmax_string_length" id="bufferconstantsmax_string_length">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_constants_max_string_length"></a></h5><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferconstantsmax_string_length">
                <a href="buffer/buffer_constants_max_string_length.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v8.2.0</span>
</div>
<ul class="">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" rel="nofollow" class="type">&lt;integer&gt;</a> 单个 <code>string</code> 实例允许的最大长度。</li>
</ul>
<p>表示 <code>string</code> 原语可以拥有的最大 <code>length</code>，以 UTF-16 代码单元计算。</p>
<p class="">此值可能取决于正在使用的 JS 引擎。</p>
</section><section><h3>Buffer.from()、Buffer.alloc() 与 Buffer.allocUnsafe()<span><a class="mark" href="#bufferfrom-bufferalloc-and-bufferallocunsafe" id="bufferfrom-bufferalloc-and-bufferallocunsafe">#</a></span><a aria-hidden="true" class="legacy" id="buffer_buffer_from_buffer_alloc_and_buffer_allocunsafe"></a></h3><p class="tip_wrap" data-show_trans="1" data-item_id="#bufferfrom-bufferalloc-and-bufferallocunsafe">
                <a href="buffer/buffer_from_buffer_alloc_and_buffer_allocunsafe.html" class="tip_trans">中英对照</a>
                </p>
<p>在 Node.js 6.0.0 之前的版本中，<code>Buffer</code> 实例是使用 <code>Buffer</code> 构造函数创建的，它根据提供的参数以不同的方式分配返回的 <code>Buffer</code>：</p>
<ul class="">
<li>将数字作为第一个参数传给 <code>Buffer()</code>（例如 <code>new Buffer(10)</code>）会分配指定大小的新 <code>Buffer</code> 对象。
在 Node.js 8.0.0 之前，为此类 <code>Buffer</code> 实例分配的内存未初始化并且可能包含敏感数据。
在从 <code>Buffer</code> 读取数据之前，此类 <code>Buffer</code> 实例必须随后通过使用 <a href="#buffillvalue-offset-end-encoding"><code>buf.fill(0)</code></a> 或写入整个 <code>Buffer</code> 进行初始化。
虽然此行为是为了提高性能，但开发经验表明，在创建快速但未初始化的 <code>Buffer</code> 与创建较慢但更安全的 <code>Buffer</code> 之间需要更明确的区别。
从 Node.js 8.0.0 开始，<code>Buffer(num)</code> 和 <code>new Buffer(num)</code> 返回带有初始化内存的 <code>Buffer</code>。</li>
<li>传入字符串、数组或 <code>Buffer</code> 作为第一个参数会将传入的对象的数据复制到 <code>Buffer</code>。</li>
<li>传入 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" rel="nofollow"><code>SharedArrayBuffer</code></a> 返回 <code>Buffer</code>，它与给定的数组缓冲区共享分配的内存。</li>
</ul>
<p class="">由于 <code>new Buffer()</code> 的行为因第一个参数的类型而异，因此当未执行参数验证或 <code>Buffer</code> 初始化时，可能会无意中将安全性和可靠性问题引入到应用程序中。</p>
<p class="">例如，如果攻击者可以使应用程序接收到预期为字符串的数字，则应用程序可能会调用 <code>new Buffer(100)</code> 而不是 <code>new Buffer("100")</code>，从而导致它分配 100 字节的缓冲区，而不是分配内容为 <code>"100"</code> 的 3 字节缓冲区。
这通常可以使用 JSON API 调用实现。
由于 JSON 区分数字和字符串类型，因此它允许在未充分验证其输入的天真编写的应用程序可能期望始终接收字符串的情况下注入数字。
在 Node.js 8.0.0 之前，100 字节的缓冲区可能包含任意预先存在的内存数据，因此可用于向远程攻击者公开内存机密。
从 Node.js 8.0.0 开始，不会发生内存暴露，因为数据是零填充的。
但是，其他攻击仍然是可能的，例如导致服务器分配非常大的缓冲区，导致性能下降或因内存耗尽而崩溃。</p>
<p class="">为了使 <code>Buffer</code> 实例的创建更可靠且不易出错，<code>new Buffer()</code> 构造函数的各种形式已被弃用，并由单独的 <code>Buffer.from()</code>、<a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc()</code></a> 和 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 方法取代。</p>
<p class=""><em>开发者应将 <code>new Buffer()</code> 构造函数的所有现有用途迁移到这些新的 API 之一。</em></p>
<ul class="">
<li><a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a> 返回新的 <code>Buffer</code>，其中包含所提供八位字节的副本。</li>
<li><a href="#static-method-bufferfromarraybuffer-byteoffset-length"><code>Buffer.from(arrayBuffer[, byteOffset[, length]])</code></a> 返回新的 <code>Buffer</code>，其与给定的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" rel="nofollow"><code>ArrayBuffer</code></a> 共享相同的分配内存。</li>
<li><a href="#static-method-bufferfrombuffer"><code>Buffer.from(buffer)</code></a> 返回新的 <code>Buffer</code>，其中包含给定 <code>Buffer</code> 内容的副本。</li>
<li><a href="#static-method-bufferfromstring-encoding"><code>Buffer.from(string[, encoding])</code></a> 返回新的 <code>Buffer</code>，其中包含所提供字符串的副本。</li>
<li><a href="#static-method-bufferallocsize-fill-encoding"><code>Buffer.alloc(size[, fill[, encoding]])</code></a> 返回指定大小的新初始化 <code>Buffer</code>。
此方法比 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe(size)</code></a> 慢，但保证新创建的 <code>Buffer</code> 实例永远不会包含可能敏感的旧数据。
如果 <code>size</code> 不是数值，则会抛出 <code>TypeError</code>。</li>
<li><a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe(size)</code></a> 和 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow(size)</code></a> 分别返回指定 <code>size</code> 的新的未初始化的 <code>Buffer</code>。
由于 <code>Buffer</code> 未初始化，分配的内存段可能包含潜在敏感的旧数据。</li>
</ul>
<p class="">如果 <code>size</code> 小于或等于 <a href="#class-property-bufferpoolsize"><code>Buffer.poolSize</code></a> 的一半，则 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 和 <a href="#static-method-bufferfromarray"><code>Buffer.from(array)</code></a> 返回的 <code>Buffer</code> 实例可以从共享的内部内存池中分配。
<a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a> 返回的实例从不使用共享的内部内存池。</p>
<h4>--zero-fill-buffers 命令行选项<span><a class="mark" href="#the---zero-fill-buffers-command-line-option" id="the---zero-fill-buffers-command-line-option">#</a></span><a aria-hidden="true" class="legacy" id="buffer_the_zero_fill_buffers_command_line_option"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#the---zero-fill-buffers-command-line-option">
                <a href="buffer/the_zero_fill_buffers_command_line_option.html" class="tip_trans">中英对照</a>
                </p>
<div class="api_metadata">
<span>新增于: v5.10.0</span>
</div>
<p>默认情况下，可以使用 <code>--zero-fill-buffers</code> 命令行选项启动 Node.js 以导致所有新分配的 <code>Buffer</code> 实例在创建时被零填充。
如果没有该选项，则使用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a>、<a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a> 和 <code>new SlowBuffer(size)</code> 创建的缓冲区不会填零。
使用此标志会对性能产生可衡量的负面影响。
仅在必要时使用 <code>--zero-fill-buffers</code> 选项以强制新分配的 <code>Buffer</code> 实例不能包含可能敏感的旧数据。</p>
<pre class=""><code class="language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash">node --zero-fill-buffers</span>
<span class="hljs-meta prompt_">&gt; </span><span class="language-bash">Buffer.allocUnsafe(5);</span>
&lt;Buffer 00 00 00 00 00&gt;</code></pre>
<h4>Buffer.allocUnsafe() 与 Buffer.allocUnsafeSlow() 不安全的原因<span><a class="mark" href="#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe" id="what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe">#</a></span><a aria-hidden="true" class="legacy" id="buffer_what_makes_buffer_allocunsafe_and_buffer_allocunsafeslow_unsafe"></a></h4><p class="tip_wrap" data-show_trans="1" data-item_id="#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe">
                <a href="buffer/what_makes_buffer_allocunsafe_and_buffer_allocunsafeslow_unsafe.html" class="tip_trans">中英对照</a>
                </p>
<p>当调用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 和 <a href="#static-method-bufferallocunsafeslowsize"><code>Buffer.allocUnsafeSlow()</code></a> 时，分配的内存段未初始化（未清零）。
虽然这种设计使内存分配非常快，但分配的内存段可能包含潜在敏感的旧数据。
使用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 创建的 <code>Buffer</code> 而不完全覆盖内存可以使此旧数据在读取 <code>Buffer</code> 内存时泄露。</p>
<p class="">虽然使用 <a href="#static-method-bufferallocunsafesize"><code>Buffer.allocUnsafe()</code></a> 有明显的性能优势，但必须格外小心，以避免将安全漏洞引入应用程序中。</p></section>
        <!-- API END -->
      </div>
    </div>
  </div>
  <div id="scroll_top" onclick="window.scrollTo(0,0);">返回顶部</div>
  
  <div id="wxpaycode_box" style="display: none;">
    <div id="wxpaycode_img_box">
      <div id="wxpaycode_vip_tips">
        因经营维护成本巨大，
        <br>为了能提供更高质量的中文文档，
        <br>即日起将只对VIP会员开放。
        <br>扫码成为VIP会员，会员费用为<span id="wxpaycode_vip_money">199</span>元/年
      </div>
      <img id="wxpaycode_img">
    </div>
  </div>
  
  



    <script src="../api/static/inject.js" defer=""></script></body></html>