<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>socket.setMulticastInterface(multicastInterface) | Node.js API 文档</title>
  
  

    <link href="../../api/static/inject.css" rel="stylesheet"><link rel="icon" sizes="32x32" type="image/png" href="../../api/static/favicon.png"></head>

<body class="alt apidoc" id="page_api_item">
  <div id="api-section-dgram">
    <div id="content" class="clearfix">

      <div id="column1" data-id="__ID__" class="interior">
        <header>
          <h1>socket.setMulticastInterface(multicastInterface)</h1>
          <div id="gtoc">
            <ul>
              <li>v16.16.0</li>
              <li>
                <a href="../dgram.html#dgram_socket_setmulticastinterface_multicastinterface" name="toc">返回上层文档</a>
              </li>

              <li class="picker-header">
    <a href="#">
        <span class="collapsed-arrow">►</span><span class="expanded-arrow">▼</span>
        其他版本
      </a>
    <div class="picker"><ol id="alt-docs">
    <li><a href="../../api/dgram/socket_setmulticastinterface_multicastinterface.html">18.6.0</a></li><li><a href="">16.16.0</a></li><li><a href="../../api-v14/dgram/socket_setmulticastinterface_multicastinterface.html">14.20.0</a></li>
</ol></div>
  </li>

              <li>
                <a href="http://api.nodejs.cn/" class="link-to-search">搜索</a>
              </li>
              <li>
                
                
              </li>

              <!-- <li>
                <a href="https://github.com/nodejscn/node-api-cn/edit/master/dgram/#socketsetmulticastinterfacemulticastinterface.md" rel="nofollow">提交修改</a>
              </li> -->
              <!-- <li>
                <a href="/gzh/">公众号</a>
              </li> -->
              <!-- <li class="biz_wrap" data-biz="api_item_nav">
                <a target="_blank" class="biz_title biz_link"></a>
              </li> -->
            </ul>
          </div>
          <hr>
        </header>

        <div id="apicontent">
          <div id="content_left"><div class="api_metadata">
<span>新增于: v8.6.0</span>
</div><ul class="">
<li><code>multicastInterface</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul><p><em>本节中对范围的所有引用均指 <a href="https://en.wikipedia.org/wiki/IPv6_address#Scoped_literal_IPv6_addresses" rel="nofollow">IPv6 区域索引</a>，由 <a href="https://tools.ietf.org/html/rfc4007" rel="nofollow">RFC 4007</a> 定义。
以字符串形式，具有作用域索引的 IP 写成 <code>'IP%scope'</code>，其中作用域是接口名称或接口编号。</em></p><p class="">将套接字的默认传出多播接口设置为选定接口或返回系统接口选择。
<code>multicastInterface</code> 必须是来自套接字家族的 IP 的有效字符串表示形式。</p><p class="">对于 IPv4 套接字，这应该是为所需物理接口配置的 IP。
在套接字上发送到多播的所有数据包都将在最近成功使用此调用确定的接口上发送。</p><p class="">对于 IPv6 套接字，<code>multicastInterface</code> 应包括范围来指示接口，如以下示例中所示。
在 IPv6 中，单个 <code>send</code> 调用也可以在地址中使用显式范围，因此只有发送到多播地址而未指定显式范围的数据包才会受到最近成功使用此调用的影响。</p><p class="">如果在未绑定的套接字上调用此方法将抛出 <code>EBADF</code>。</p></div>
          <div id="content_right"><div class="api_metadata">
<span>Added in: v8.6.0</span>
</div><ul>
<li><code>multicastInterface</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul><p><em>All references to scope in this section are referring to
<a href="https://en.wikipedia.org/wiki/IPv6_address#Scoped_literal_IPv6_addresses" rel="nofollow">IPv6 Zone Indices</a>, which are defined by <a href="https://tools.ietf.org/html/rfc4007" rel="nofollow">RFC 4007</a>. In string form, an IP
with a scope index is written as <code>'IP%scope'</code> where scope is an interface name
or interface number.</em></p><p>Sets the default outgoing multicast interface of the socket to a chosen
interface or back to system interface selection. The <code>multicastInterface</code> must
be a valid string representation of an IP from the socket's family.</p><p>For IPv4 sockets, this should be the IP configured for the desired physical
interface. All packets sent to multicast on the socket will be sent on the
interface determined by the most recent successful use of this call.</p><p>For IPv6 sockets, <code>multicastInterface</code> should include a scope to indicate the
interface as in the examples that follow. In IPv6, individual <code>send</code> calls can
also use explicit scope in addresses, so only packets sent to a multicast
address without specifying an explicit scope are affected by the most recent
successful use of this call.</p><p>This method throws <code>EBADF</code> if called on an unbound socket.</p></div>
          <div></div>
        </div>

        <!-- <div id="biz_item" class="biz_wrap" data-biz="api_item">
          <a target="_blank" class="biz_link">
            <img class="biz_img" />
          </a>
        </div> -->
      </div>
    </div>
  </div>
  
  <div id="wxpaycode_box" style="display: none;">
    <div id="wxpaycode_img_box">
      <div id="wxpaycode_vip_tips">
        因经营维护成本巨大，
        <br>为了能提供更高质量的中文文档，
        <br>即日起将只对VIP会员开放。
        <br>扫码成为VIP会员，会员费用为<span id="wxpaycode_vip_money">199</span>元/年
      </div>
      <img id="wxpaycode_img">
    </div>
  </div>
  
  
  



    <script src="../../api/static/inject.js" defer=""></script></body></html>